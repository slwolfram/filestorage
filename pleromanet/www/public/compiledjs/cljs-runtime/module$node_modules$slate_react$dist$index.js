shadow$provide.module$node_modules$slate_react$dist$index=function(global,require,module$jscomp$0,exports){function unwrapExports(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x["default"]:x}function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}function _createForOfIteratorHelper$3(o,allowArrayLike){var it="undefined"!==typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray$3(o))||
allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e;},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=it.call(o)},n:function(){var step=it.next();normalCompletion=
step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray$3(o,minLen){if(o){if("string"===typeof o)return _arrayLikeToArray$3(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$3(o,
minLen)}}function _arrayLikeToArray$3(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function verifyDiffState(editor,textDiff){var path=textDiff.path;textDiff=textDiff.diff;if(!slate.Editor.hasPath(editor,path))return!1;var node=slate.Node.get(editor,path);if(!slate.Text.isText(node))return!1;if(textDiff.start!==node.text.length||0===textDiff.text.length)return node.text.slice(textDiff.start,textDiff.start+textDiff.text.length)===
textDiff.text;path=slate.Path.next(path);if(!slate.Editor.hasPath(editor,path))return!1;editor=slate.Node.get(editor,path);return slate.Text.isText(editor)&&editor.text.startsWith(textDiff.text)}function applyStringDiff(text$jscomp$0){for(var _len=arguments.length,diffs=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)diffs[_key-1]=arguments[_key];return diffs.reduce(function(text,diff){return text.slice(0,diff.start)+diff.text+text.slice(diff.end)},text$jscomp$0)}function normalizeStringDiff(targetText,
diff){var start=diff.start,end=diff.end;diff=diff.text;targetText=targetText.slice(start,end);a:{var prefixLength=Math.min(targetText.length,diff.length);for(var i=0;i<prefixLength;i++)if(targetText.charAt(i)!==diff.charAt(i)){prefixLength=i;break a}}a:{i=Math.min(targetText.length,diff.length,Math.min(targetText.length-prefixLength,diff.length-prefixLength));for(var i$jscomp$0=0;i$jscomp$0<i;i$jscomp$0++)if(targetText.charAt(targetText.length-i$jscomp$0-1)!==diff.charAt(diff.length-i$jscomp$0-1)){targetText=
i$jscomp$0;break a}targetText=i}start={start:start+prefixLength,end:end-targetText,text:diff.slice(prefixLength,diff.length-targetText)};return start.start===start.end&&0===start.text.length?null:start}function mergeStringDiffs(targetText,a,b){var start=Math.min(a.start,b.start),overlap=Math.max(0,Math.min(a.start+a.text.length,b.end)-b.start);overlap=applyStringDiff(targetText,a,b).slice(start,Math.max(b.start+b.text.length,a.start+a.text.length+(a.start+a.text.length>b.start?b.text.length:0)-overlap));
return normalizeStringDiff(targetText,{start,end:Math.max(a.end,b.end-a.text.length+(a.end-a.start)),text:overlap})}function targetRange(textDiff){var path=textDiff.path;textDiff=textDiff.diff;return{anchor:{path,offset:textDiff.start},focus:{path,offset:textDiff.end}}}function normalizePoint(editor,point){var path=point.path;point=point.offset;if(!slate.Editor.hasPath(editor,path))return null;var leaf=slate.Node.get(editor,path);if(!slate.Text.isText(leaf))return null;var parentBlock=slate.Editor.above(editor,
{match:function(n){return slate.Element.isElement(n)&&slate.Editor.isBlock(editor,n)},at:path});if(!parentBlock)return null;for(;point>leaf.text.length;){path=slate.Editor.next(editor,{at:path,match:slate.Text.isText});if(!path||!slate.Path.isDescendant(path[1],parentBlock[1]))return null;point-=leaf.text.length;leaf=path[0];path=path[1]}return{path,offset:point}}function normalizeRange(editor,range){var anchor=normalizePoint(editor,range.anchor);return anchor?slate.Range.isCollapsed(range)?{anchor,
focus:anchor}:(editor=normalizePoint(editor,range.focus))?{anchor,focus:editor}:null:null}function transformPendingPoint(editor,point,op){editor=EDITOR_TO_PENDING_DIFFS.get(editor);editor=null===editor||void 0===editor?void 0:editor.find(function(_ref){return slate.Path.equals(_ref.path,point.path)});if(!editor||point.offset<=editor.diff.start)return slate.Point.transform(point,op,{affinity:"backward"});editor=editor.diff;if(point.offset<=editor.start+editor.text.length)return(op=slate.Point.transform({path:point.path,
offset:editor.start},op,{affinity:"backward"}))?{path:op.path,offset:op.offset+point.offset-editor.start}:null;var anchor={path:point.path,offset:point.offset-editor.text.length+editor.end-editor.start},transformed=slate.Point.transform(anchor,op,{affinity:"backward"});return transformed?"split_node"===op.type&&slate.Path.equals(op.path,point.path)&&anchor.offset<op.position&&editor.start<op.position?transformed:{path:transformed.path,offset:transformed.offset+editor.text.length-editor.end+editor.start}:
null}function transformPendingRange(editor,range,op){var anchor=transformPendingPoint(editor,range.anchor,op);return anchor?slate.Range.isCollapsed(range)?{anchor,focus:anchor}:(editor=transformPendingPoint(editor,range.focus,op))?{anchor,focus:editor}:null:null}function transformTextDiff(textDiff,op){var path=textDiff.path,diff=textDiff.diff,id=textDiff.id;switch(op.type){case "insert_text":return!slate.Path.equals(op.path,path)||op.offset>=diff.end?textDiff:op.offset<=diff.start?{diff:{start:op.text.length+
diff.start,end:op.text.length+diff.end,text:diff.text},id,path}:{diff:{start:diff.start,end:diff.end+op.text.length,text:diff.text},id,path};case "remove_text":return!slate.Path.equals(op.path,path)||op.offset>=diff.end?textDiff:op.offset+op.text.length<=diff.start?{diff:{start:diff.start-op.text.length,end:diff.end-op.text.length,text:diff.text},id,path}:{diff:{start:diff.start,end:diff.end-op.text.length,text:diff.text},id,path};case "split_node":return!slate.Path.equals(op.path,path)||op.position>=
diff.end?{diff,id,path:slate.Path.transform(path,op,{affinity:"backward"})}:op.position>diff.start?{diff:{start:diff.start,end:Math.min(op.position,diff.end),text:diff.text},id,path}:{diff:{start:diff.start-op.position,end:diff.end-op.position,text:diff.text},id,path:slate.Path.transform(path,op,{affinity:"forward"})};case "merge_node":return slate.Path.equals(op.path,path)?{diff:{start:diff.start+op.position,end:diff.end+op.position,text:diff.text},id,path:slate.Path.transform(path,op)}:{diff,id,
path:slate.Path.transform(path,op)}}return(textDiff=slate.Path.transform(path,op))?{diff,path:textDiff,id}:null}function ownKeys$6(e,r$jscomp$0){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r$jscomp$0&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,o)}return t}function _objectSpread$6(e){for(var r$jscomp$0=1;r$jscomp$0<arguments.length;r$jscomp$0++){var t=null!=arguments[r$jscomp$0]?arguments[r$jscomp$0]:
{};r$jscomp$0%2?ownKeys$6(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$6(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function createAndroidInputManager(_ref){var editor=_ref.editor,scheduleOnDOMSelectionChange=_ref.scheduleOnDOMSelectionChange,onDOMSelectionChange=_ref.onDOMSelectionChange,flushing=!1,compositionEndTimeoutId=
null,flushTimeoutId=null,actionTimeoutId=null,idCounter=0,insertPositionHint=!1,applyPendingSelection=function(){var pendingSelection=EDITOR_TO_PENDING_SELECTION.get(editor);EDITOR_TO_PENDING_SELECTION["delete"](editor);if(pendingSelection){var selection=editor.selection;pendingSelection=normalizeRange(editor,pendingSelection);!pendingSelection||selection&&slate.Range.equals(pendingSelection,selection)||slate.Transforms.select(editor,pendingSelection)}},performAction=function(){var action=EDITOR_TO_PENDING_ACTION.get(editor);
EDITOR_TO_PENDING_ACTION["delete"](editor);if(action){if(action.at){var target=slate.Point.isPoint(action.at)?normalizePoint(editor,action.at):normalizeRange(editor,action.at);if(!target)return;var _targetRange=slate.Editor.range(editor,target);editor.selection&&slate.Range.equals(editor.selection,_targetRange)||slate.Transforms.select(editor,target)}action.run()}},flush=function(){flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null);actionTimeoutId&&(clearTimeout(actionTimeoutId),actionTimeoutId=
null);if(hasPendingDiffs()||hasPendingAction()){flushing||(flushing=!0,setTimeout(function(){return flushing=!1}));hasPendingAction()&&(flushing="action");var selectionRef=editor.selection&&slate.Editor.rangeRef(editor,editor.selection,{affinity:"forward"});EDITOR_TO_USER_MARKS.set(editor,editor.marks);debug("flush",EDITOR_TO_PENDING_ACTION.get(editor),EDITOR_TO_PENDING_DIFFS.get(editor));for(var scheduleSelectionChange=hasPendingDiffs(),diff;diff=null===(_EDITOR_TO_PENDING_DI=EDITOR_TO_PENDING_DIFFS.get(editor))||
void 0===_EDITOR_TO_PENDING_DI?void 0:_EDITOR_TO_PENDING_DI[0];){var _EDITOR_TO_PENDING_DI,_EDITOR_TO_PENDING_DI2,pendingMarks=EDITOR_TO_PENDING_INSERTION_MARKS.get(editor);void 0!==pendingMarks&&(EDITOR_TO_PENDING_INSERTION_MARKS["delete"](editor),editor.marks=pendingMarks);pendingMarks&&!1===insertPositionHint&&(insertPositionHint=null);pendingMarks=targetRange(diff);editor.selection&&slate.Range.equals(editor.selection,pendingMarks)||slate.Transforms.select(editor,pendingMarks);diff.diff.text?
slate.Editor.insertText(editor,diff.diff.text):slate.Editor.deleteFragment(editor);EDITOR_TO_PENDING_DIFFS.set(editor,null===(_EDITOR_TO_PENDING_DI2=EDITOR_TO_PENDING_DIFFS.get(editor))||void 0===_EDITOR_TO_PENDING_DI2?void 0:_EDITOR_TO_PENDING_DI2.filter(function(_ref2){return _ref2.id!==diff.id}));verifyDiffState(editor,diff)||(scheduleSelectionChange=!1,EDITOR_TO_PENDING_ACTION["delete"](editor),EDITOR_TO_USER_MARKS["delete"](editor),flushing="action",EDITOR_TO_PENDING_SELECTION["delete"](editor),
scheduleOnDOMSelectionChange.cancel(),onDOMSelectionChange.cancel(),null===selectionRef||void 0===selectionRef||selectionRef.unref())}selectionRef=null===selectionRef||void 0===selectionRef?void 0:selectionRef.unref();!selectionRef||EDITOR_TO_PENDING_SELECTION.get(editor)||editor.selection&&slate.Range.equals(selectionRef,editor.selection)||slate.Transforms.select(editor,selectionRef);hasPendingAction()?performAction():(scheduleSelectionChange&&scheduleOnDOMSelectionChange(),scheduleOnDOMSelectionChange.flush(),
onDOMSelectionChange.flush(),applyPendingSelection(),scheduleSelectionChange=EDITOR_TO_USER_MARKS.get(editor),EDITOR_TO_USER_MARKS["delete"](editor),void 0!==scheduleSelectionChange&&(editor.marks=scheduleSelectionChange,editor.onChange()))}else applyPendingSelection()},updatePlaceholderVisibility=function(){var forceHide=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,placeholderElement=EDITOR_TO_PLACEHOLDER_ELEMENT.get(editor);placeholderElement&&(hasPendingDiffs()||forceHide?placeholderElement.style.display=
"none":placeholderElement.style.removeProperty("display"))},storeDiff=function(path,diff){var _EDITOR_TO_PENDING_DI3,pendingDiffs=null!==(_EDITOR_TO_PENDING_DI3=EDITOR_TO_PENDING_DIFFS.get(editor))&&void 0!==_EDITOR_TO_PENDING_DI3?_EDITOR_TO_PENDING_DI3:[];EDITOR_TO_PENDING_DIFFS.set(editor,pendingDiffs);var target=slate.Node.leaf(editor,path);_EDITOR_TO_PENDING_DI3=pendingDiffs.findIndex(function(change){return slate.Path.equals(change.path,path)});0>_EDITOR_TO_PENDING_DI3?(normalizeStringDiff(target.text,
diff)&&pendingDiffs.push({path,diff,id:idCounter++}),updatePlaceholderVisibility()):(diff=mergeStringDiffs(target.text,pendingDiffs[_EDITOR_TO_PENDING_DI3].diff,diff))?pendingDiffs[_EDITOR_TO_PENDING_DI3]=_objectSpread$6(_objectSpread$6({},pendingDiffs[_EDITOR_TO_PENDING_DI3]),{},{diff}):(pendingDiffs.splice(_EDITOR_TO_PENDING_DI3,1),updatePlaceholderVisibility())},scheduleAction=function(run){var at=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).at;insertPositionHint=!1;EDITOR_TO_PENDING_SELECTION["delete"](editor);
scheduleOnDOMSelectionChange.cancel();onDOMSelectionChange.cancel();hasPendingAction()&&flush();EDITOR_TO_PENDING_ACTION.set(editor,{at,run});actionTimeoutId=setTimeout(flush)},hasPendingAction=function(){return!!EDITOR_TO_PENDING_ACTION.get(editor)},hasPendingDiffs=function(){var _EDITOR_TO_PENDING_DI4;return!(null===(_EDITOR_TO_PENDING_DI4=EDITOR_TO_PENDING_DIFFS.get(editor))||void 0===_EDITOR_TO_PENDING_DI4||!_EDITOR_TO_PENDING_DI4.length)},handleUserSelect=function(range){EDITOR_TO_PENDING_SELECTION.set(editor,
range);flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null);var selection=editor.selection;if(range){var pathChanged=!selection||!slate.Path.equals(selection.anchor.path,range.anchor.path);range=!selection||!slate.Path.equals(selection.anchor.path.slice(0,-1),range.anchor.path.slice(0,-1));if(pathChanged&&insertPositionHint||range)insertPositionHint=!1;if(pathChanged||hasPendingDiffs())flushTimeoutId=setTimeout(flush,200)}},scheduleFlush=function(){hasPendingAction()||(actionTimeoutId=
setTimeout(flush))};return{flush,scheduleFlush,hasPendingDiffs,hasPendingAction,hasPendingChanges:function(){return hasPendingAction()||hasPendingDiffs()},isFlushing:function(){return flushing},handleUserSelect,handleCompositionEnd:function(_event){compositionEndTimeoutId&&clearTimeout(compositionEndTimeoutId);compositionEndTimeoutId=setTimeout(function(){IS_COMPOSING.set(editor,!1);flush()},25)},handleCompositionStart:function(_event){IS_COMPOSING.set(editor,!0);compositionEndTimeoutId&&(clearTimeout(compositionEndTimeoutId),
compositionEndTimeoutId=null)},handleDOMBeforeInput:function(event){var _targetRange2;flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null);var type=event.inputType,targetRange=null,data=event.dataTransfer||event.data||void 0;!1!==insertPositionHint&&"insertText"!==type&&"insertCompositionText"!==type&&(insertPositionHint=!1);event=event.getTargetRanges();(event=_slicedToArray(event,1)[0])&&(targetRange=ReactEditor.toSlateRange(editor,event,{exactMatch:!1,suppressThrow:!0}));var domSelection=
ReactEditor.getWindow(editor).getSelection();!targetRange&&domSelection&&(event=domSelection,targetRange=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!0}));if(targetRange=null!==(_targetRange2=targetRange)&&void 0!==_targetRange2?_targetRange2:editor.selection){_targetRange2=!0;if(type.startsWith("delete")){if(slate.Range.isExpanded(targetRange)){domSelection=slate.Range.edges(targetRange);var _Range$edges2=_slicedToArray(domSelection,2);domSelection=_Range$edges2[0];
_Range$edges2=_Range$edges2[1];slate.Node.leaf(editor,domSelection.path).text.length===domSelection.offset&&0===_Range$edges2.offset&&(domSelection=slate.Editor.next(editor,{at:domSelection.path,match:slate.Text.isText}))&&slate.Path.equals(domSelection[1],_Range$edges2.path)&&(targetRange={anchor:_Range$edges2,focus:_Range$edges2})}var direction=type.endsWith("Backward")?"backward":"forward";domSelection=slate.Range.edges(targetRange);_Range$edges2=_slicedToArray(domSelection,2);domSelection=_Range$edges2[0];
_Range$edges2=_Range$edges2[1];var _Editor$leaf=slate.Editor.leaf(editor,domSelection.path),_Editor$leaf2=_slicedToArray(_Editor$leaf,2);_Editor$leaf=_Editor$leaf2[0];var path=_Editor$leaf2[1];_Editor$leaf2={text:"",start:domSelection.offset,end:_Range$edges2.offset};var pendingDiffs=EDITOR_TO_PENDING_DIFFS.get(editor);pendingDiffs=null===pendingDiffs||void 0===pendingDiffs?void 0:pendingDiffs.find(function(change){return slate.Path.equals(change.path,path)});0===applyStringDiff.apply(void 0,[_Editor$leaf.text].concat(pendingDiffs?
[pendingDiffs.diff,_Editor$leaf2]:[_Editor$leaf2])).length&&(_targetRange2=!1);if(slate.Range.isExpanded(targetRange))return _targetRange2&&slate.Path.equals(targetRange.anchor.path,targetRange.focus.path)?(type={path:targetRange.anchor.path,offset:domSelection.offset},type=slate.Editor.range(editor,type,type),handleUserSelect(type),storeDiff(targetRange.anchor.path,{text:"",end:_Range$edges2.offset,start:domSelection.offset})):scheduleAction(function(){return slate.Editor.deleteFragment(editor,{direction})},
{at:targetRange})}switch(type){case "deleteByComposition":case "deleteByCut":case "deleteByDrag":return scheduleAction(function(){return slate.Editor.deleteFragment(editor)},{at:targetRange});case "deleteContent":case "deleteContentForward":return type=targetRange.anchor,_targetRange2&&slate.Range.isCollapsed(targetRange)&&(_targetRange2=slate.Node.leaf(editor,type.path),type.offset<_targetRange2.text.length)?storeDiff(type.path,{text:"",start:type.offset,end:type.offset+1}):scheduleAction(function(){return slate.Editor.deleteForward(editor)},
{at:targetRange});case "deleteContentBackward":var _nativeTargetRange;type=targetRange.anchor;event=isDOMSelection(event)?event.isCollapsed:!(null===(_nativeTargetRange=event)||void 0===_nativeTargetRange||!_nativeTargetRange.collapsed);return _targetRange2&&event&&slate.Range.isCollapsed(targetRange)&&0<type.offset?storeDiff(type.path,{text:"",start:type.offset-1,end:type.offset}):scheduleAction(function(){return slate.Editor.deleteBackward(editor)},{at:targetRange});case "deleteEntireSoftLine":return scheduleAction(function(){slate.Editor.deleteBackward(editor,
{unit:"line"});slate.Editor.deleteForward(editor,{unit:"line"})},{at:targetRange});case "deleteHardLineBackward":return scheduleAction(function(){return slate.Editor.deleteBackward(editor,{unit:"block"})},{at:targetRange});case "deleteSoftLineBackward":return scheduleAction(function(){return slate.Editor.deleteBackward(editor,{unit:"line"})},{at:targetRange});case "deleteHardLineForward":return scheduleAction(function(){return slate.Editor.deleteForward(editor,{unit:"block"})},{at:targetRange});case "deleteSoftLineForward":return scheduleAction(function(){return slate.Editor.deleteForward(editor,
{unit:"line"})},{at:targetRange});case "deleteWordBackward":return scheduleAction(function(){return slate.Editor.deleteBackward(editor,{unit:"word"})},{at:targetRange});case "deleteWordForward":return scheduleAction(function(){return slate.Editor.deleteForward(editor,{unit:"word"})},{at:targetRange});case "insertLineBreak":return scheduleAction(function(){return slate.Editor.insertSoftBreak(editor)},{at:targetRange});case "insertParagraph":return scheduleAction(function(){return slate.Editor.insertBreak(editor)},
{at:targetRange});case "insertCompositionText":case "deleteCompositionText":case "insertFromComposition":case "insertFromDrop":case "insertFromPaste":case "insertFromYank":case "insertReplacementText":case "insertText":if("DataTransfer"===(null===data||void 0===data?void 0:data.constructor.name))return scheduleAction(function(){return ReactEditor.insertData(editor,data)},{at:targetRange});var _text=null!==data&&void 0!==data?data:"";EDITOR_TO_PENDING_INSERTION_MARKS.get(editor)&&(_text=_text.replace("﻿",
""));"insertText"===type&&/.*\n.*\n$/.test(_text)&&(_text=_text.slice(0,-1));if(_text.includes("\n"))return scheduleAction(function(){var parts=_text.split("\n");parts.forEach(function(line,i){line&&slate.Editor.insertText(editor,line);i!==parts.length-1&&slate.Editor.insertSoftBreak(editor)})},{at:targetRange});if(slate.Path.equals(targetRange.anchor.path,targetRange.focus.path)&&(_nativeTargetRange=slate.Range.edges(targetRange),event=_slicedToArray(_nativeTargetRange,2),_nativeTargetRange=event[0],
event={start:_nativeTargetRange.offset,end:event[1].offset,text:_text},_text&&insertPositionHint&&"insertCompositionText"===type?(type=insertPositionHint.start+insertPositionHint.text.search(/\S|$/),event.start+event.text.search(/\S|$/)===type+1&&event.end===insertPositionHint.start+insertPositionHint.text.length?(--event.start,insertPositionHint=null,scheduleFlush()):insertPositionHint=!1):insertPositionHint="insertText"===type?null===insertPositionHint?event:insertPositionHint&&slate.Range.isCollapsed(targetRange)&&
insertPositionHint.end+insertPositionHint.text.length===_nativeTargetRange.offset?_objectSpread$6(_objectSpread$6({},insertPositionHint),{},{text:insertPositionHint.text+_text}):!1:!1,_targetRange2)){storeDiff(_nativeTargetRange.path,event);break}return scheduleAction(function(){return slate.Editor.insertText(editor,_text)},{at:targetRange})}}},handleKeyDown:function(_){hasPendingDiffs()||(updatePlaceholderVisibility(!0),setTimeout(updatePlaceholderVisibility))},handleDomMutations:function(mutations){if(!hasPendingDiffs()&&
!hasPendingAction()&&mutations.some(function(mutation){return isTrackedMutation(editor,mutation,mutations)})){var _EDITOR_TO_FORCE_REND;null===(_EDITOR_TO_FORCE_REND=EDITOR_TO_FORCE_RENDER.get(editor))||void 0===_EDITOR_TO_FORCE_REND||_EDITOR_TO_FORCE_REND()}},handleInput:function(){!hasPendingAction()&&hasPendingDiffs()||flush()}}}function useIsMounted(){var isMountedRef=React.useRef(!1);React.useEffect(function(){isMountedRef.current=!0;return function(){isMountedRef.current=!1}},[]);return isMountedRef.current}
function useMutationObserver(node,callback,options){var _useState=React.useState(function(){return new MutationObserver(callback)}),mutationObserver=_slicedToArray(_useState,1)[0];useIsomorphicLayoutEffect(function(){mutationObserver.takeRecords()});React.useEffect(function(){if(!node.current)throw Error("Failed to attach MutationObserver, `node` is undefined");mutationObserver.observe(node.current,options);return function(){return mutationObserver.disconnect()}},[mutationObserver,node,options])}
function ownKeys$5(e,r$jscomp$0){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r$jscomp$0&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,o)}return t}function _objectSpread$5(e){for(var r$jscomp$0=1;r$jscomp$0<arguments.length;r$jscomp$0++){var t=null!=arguments[r$jscomp$0]?arguments[r$jscomp$0]:{};r$jscomp$0%2?ownKeys$5(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$5(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ownKeys$4(e,r$jscomp$0){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r$jscomp$0&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,o)}return t}function _objectSpread$4(e){for(var r$jscomp$0=1;r$jscomp$0<arguments.length;r$jscomp$0++){var t=
null!=arguments[r$jscomp$0]?arguments[r$jscomp$0]:{};r$jscomp$0%2?ownKeys$4(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$4(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ownKeys$3(e,r$jscomp$0){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r$jscomp$0&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,
r).enumerable}));t.push.apply(t,o)}return t}function _objectSpread$3(e){for(var r$jscomp$0=1;r$jscomp$0<arguments.length;r$jscomp$0++){var t=null!=arguments[r$jscomp$0]?arguments[r$jscomp$0]:{};r$jscomp$0%2?ownKeys$3(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$3(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function disconnectPlaceholderResizeObserver(placeholderResizeObserver,
releaseObserver){placeholderResizeObserver.current&&(placeholderResizeObserver.current.disconnect(),releaseObserver&&(placeholderResizeObserver.current=null))}function clearTimeoutRef(timeoutRef){timeoutRef.current&&(clearTimeout(timeoutRef.current),timeoutRef.current=null)}function ownKeys$2(e,r$jscomp$0){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r$jscomp$0&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,
o)}return t}function _objectSpread$2(e){for(var r$jscomp$0=1;r$jscomp$0<arguments.length;r$jscomp$0++){var t=null!=arguments[r$jscomp$0]?arguments[r$jscomp$0]:{};r$jscomp$0%2?ownKeys$2(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$2(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _createForOfIteratorHelper$2(o,allowArrayLike){var it=
"undefined"!==typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray$2(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e;},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=it.call(o)},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray$2(o,minLen){if(o){if("string"===typeof o)return _arrayLikeToArray$2(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);
if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$2(o,minLen)}}function _arrayLikeToArray$2(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useTrackUserInput(){var editor=useSlateStatic(),receivedUserInput=React.useRef(!1),animationFrameIdRef=React.useRef(0),onUserInput=React.useCallback(function(){if(!receivedUserInput.current){receivedUserInput.current=
!0;var window=ReactEditor.getWindow(editor);window.cancelAnimationFrame(animationFrameIdRef.current);animationFrameIdRef.current=window.requestAnimationFrame(function(){receivedUserInput.current=!1})}},[editor]);React.useEffect(function(){return function(){return cancelAnimationFrame(animationFrameIdRef.current)}},[]);return{receivedUserInput,onUserInput}}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=
_getPrototypeOf(this).constructor;Super=Reflect.construct(Super,arguments,NewTarget)}else Super=Super.apply(this,arguments);return _possibleConstructorReturn(this,Super)}}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _createForOfIteratorHelper$1(o,allowArrayLike){var it=
"undefined"!==typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray$1(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e;},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=it.call(o)},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray$1(o,minLen){if(o){if("string"===typeof o)return _arrayLikeToArray$1(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);
if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray$1(o,minLen)}}function _arrayLikeToArray$1(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys$1(e,r$jscomp$0){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r$jscomp$0&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,
r).enumerable}));t.push.apply(t,o)}return t}function _objectSpread$1(e){for(var r$jscomp$0=1;r$jscomp$0<arguments.length;r$jscomp$0++){var t=null!=arguments[r$jscomp$0]?arguments[r$jscomp$0]:{};r$jscomp$0%2?ownKeys$1(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys$1(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function useSlateSelector(selector){var equalityFn=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:refEquality,_useReducer=React.useReducer(function(s){return s+1},0),forceRender=_slicedToArray(_useReducer,2)[1];_useReducer=React.useContext(SlateSelectorContext);if(!_useReducer)throw Error("The `useSlateSelector` hook must be used inside the \x3cSlate\x3e component's context.");var getSlate=_useReducer.getSlate,addEventListener=_useReducer.addEventListener,latestSubscriptionCallbackError=React.useRef(),latestSelector=React.useRef(function(){return null}),
latestSelectedState=React.useRef(null);try{var selectedState=selector!==latestSelector.current||latestSubscriptionCallbackError.current?selector(getSlate()):latestSelectedState.current}catch(err){throw latestSubscriptionCallbackError.current&&err instanceof Error&&(err.message+="\nThe error may be correlated with this previous error:\n".concat(latestSubscriptionCallbackError.current.stack,"\n\n")),err;}useIsomorphicLayoutEffect(function(){latestSelector.current=selector;latestSelectedState.current=
selectedState;latestSubscriptionCallbackError.current=void 0});useIsomorphicLayoutEffect(function(){function checkForUpdates(){try{var newSelectedState=latestSelector.current(getSlate());if(equalityFn(newSelectedState,latestSelectedState.current))return;latestSelectedState.current=newSelectedState}catch(err){latestSubscriptionCallbackError.current=err instanceof Error?err:Error(String(err))}forceRender()}var unsubscribe=addEventListener(checkForUpdates);checkForUpdates();return function(){return unsubscribe()}},
[addEventListener,getSlate]);return selectedState}function useSelectorContext(editor$jscomp$0){var eventListeners=React.useRef([]).current,slateRef=React.useRef({editor:editor$jscomp$0}).current;editor$jscomp$0=React.useCallback(function(editor){slateRef.editor=editor;eventListeners.forEach(function(listener){return listener(editor)})},[eventListeners,slateRef]);return{selectorContext:React.useMemo(function(){return{getSlate:function(){return slateRef.editor},addEventListener:function(callback){eventListeners.push(callback);
return function(){eventListeners.splice(eventListeners.indexOf(callback),1)}}}},[eventListeners,slateRef]),onChange:editor$jscomp$0}}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!==typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;allowArrayLike=function(){};return{s:allowArrayLike,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},
e:function(_e){throw _e;},f:allowArrayLike}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=!0,didErr=!1,err;return{s:function(){it=it.call(o)},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(_e2){didErr=!0;err=_e2},f:function(){try{if(!normalCompletion&&null!=it["return"])it["return"]()}finally{if(didErr)throw err;}}}}function _unsupportedIterableToArray(o,
minLen){if(o){if("string"===typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(e,r$jscomp$0){var t=
Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r$jscomp$0&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,o)}return t}function _objectSpread(e){for(var r$jscomp$0=1;r$jscomp$0<arguments.length;r$jscomp$0++){var t=null!=arguments[r$jscomp$0]?arguments[r$jscomp$0]:{};r$jscomp$0%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):
ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var getDirection=require("module$node_modules$direction$index"),debounce=require("module$node_modules$lodash$debounce"),throttle=require("module$node_modules$lodash$throttle"),React=require("module$node_modules$react$index"),scrollIntoView=require("module$node_modules$scroll_into_view_if_needed$dist$index_cjs"),slate=require("module$node_modules$slate$dist$index"),resizeObserver=require("module$node_modules$$juggle$resize_observer$lib$exports$resize_observer_umd"),
isHotkey=require("module$node_modules$is_hotkey$lib$index"),ReactDOM=require("module$node_modules$react_dom$index"),arrayWithHoles=createCommonjsModule(function(module){module.exports=function(arr){if(Array.isArray(arr))return arr};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(arrayWithHoles);var iterableToArrayLimit=createCommonjsModule(function(module){module.exports=function(r$jscomp$0,l){var t=null==r$jscomp$0?null:"undefined"!=typeof Symbol&&r$jscomp$0[Symbol.iterator]||
r$jscomp$0["@@iterator"];if(null!=t){var e,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r$jscomp$0)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0;var n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n;}}return a}};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(iterableToArrayLimit);var arrayLikeToArray=createCommonjsModule(function(module){module.exports=
function(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(arrayLikeToArray);var unsupportedIterableToArray=createCommonjsModule(function(module){module.exports=function(o,minLen){if(o){if("string"===typeof o)return arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);
if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return arrayLikeToArray(o,minLen)}};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(unsupportedIterableToArray);var nonIterableRest=createCommonjsModule(function(module){module.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(nonIterableRest);var slicedToArray=createCommonjsModule(function(module){module.exports=function(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||unsupportedIterableToArray(arr,i)||nonIterableRest()};module.exports.__esModule=!0;module.exports["default"]=module.exports}),_slicedToArray=unwrapExports(slicedToArray),objectWithoutPropertiesLoose=createCommonjsModule(function(module){module.exports=
function(source,excluded){if(null==source)return{};var target={},sourceKeys=Object.keys(source),i;for(i=0;i<sourceKeys.length;i++){var key=sourceKeys[i];0<=excluded.indexOf(key)||(target[key]=source[key])}return target};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(objectWithoutPropertiesLoose);var objectWithoutProperties=createCommonjsModule(function(module){module.exports=function(source,excluded){if(null==source)return{};var target=objectWithoutPropertiesLoose(source,
excluded),i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){var key=sourceSymbolKeys[i];0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}}return target};module.exports.__esModule=!0;module.exports["default"]=module.exports}),_objectWithoutProperties=unwrapExports(objectWithoutProperties),_typeof_1=createCommonjsModule(function(module){function _typeof(o$jscomp$0){"@babel/helpers - typeof";
return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},module.exports.__esModule=!0,module.exports["default"]=module.exports,_typeof(o$jscomp$0)}module.exports=_typeof;module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(_typeof_1);var toPrimitive=createCommonjsModule(function(module){var _typeof=
_typeof_1["default"];module.exports=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){input=prim.call(input,hint||"default");if("object"!==_typeof(input))return input;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===hint?String:Number)(input)};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(toPrimitive);var toPropertyKey=createCommonjsModule(function(module){var _typeof=
_typeof_1["default"];module.exports=function(arg){arg=toPrimitive(arg,"string");return"symbol"===_typeof(arg)?arg:String(arg)};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(toPropertyKey);var defineProperty=createCommonjsModule(function(module){module.exports=function(obj,key,value){key=toPropertyKey(key);key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj};module.exports.__esModule=!0;module.exports["default"]=
module.exports}),_defineProperty=unwrapExports(defineProperty),EditorContext=React.createContext(null),useSlateStatic=function(){var editor=React.useContext(EditorContext);if(!editor)throw Error("The `useSlateStatic` hook must be used inside the \x3cSlate\x3e component's context.");return editor},REACT_MAJOR_VERSION=parseInt(React.version.split(".")[0],10),IS_IOS="undefined"!==typeof navigator&&"undefined"!==typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,IS_APPLE="undefined"!==
typeof navigator&&/Mac OS X/.test(navigator.userAgent),IS_ANDROID="undefined"!==typeof navigator&&/Android/.test(navigator.userAgent),IS_FIREFOX="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),IS_WEBKIT="undefined"!==typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),IS_EDGE_LEGACY="undefined"!==typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),IS_CHROME="undefined"!==typeof navigator&&/Chrome/i.test(navigator.userAgent),
IS_CHROME_LEGACY="undefined"!==typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),IS_ANDROID_CHROME_LEGACY=IS_ANDROID&&"undefined"!==typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),IS_FIREFOX_LEGACY="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),IS_UC_MOBILE="undefined"!==typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),IS_WECHATBROWSER="undefined"!==
typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),CAN_USE_DOM=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),HAS_BEFORE_INPUT_SUPPORT=(!IS_CHROME_LEGACY||!IS_ANDROID_CHROME_LEGACY)&&!IS_EDGE_LEGACY&&"undefined"!==typeof globalThis&&globalThis.InputEvent&&"function"===typeof globalThis.InputEvent.prototype.getTargetRanges,NODE_TO_INDEX=new WeakMap,NODE_TO_PARENT=new WeakMap,EDITOR_TO_WINDOW=
new WeakMap,EDITOR_TO_ELEMENT=new WeakMap,EDITOR_TO_PLACEHOLDER_ELEMENT=new WeakMap,ELEMENT_TO_NODE=new WeakMap,NODE_TO_ELEMENT=new WeakMap,NODE_TO_KEY=new WeakMap,EDITOR_TO_KEY_TO_ELEMENT=new WeakMap,IS_READ_ONLY=new WeakMap,IS_FOCUSED=new WeakMap,IS_COMPOSING=new WeakMap,EDITOR_TO_USER_SELECTION=new WeakMap,EDITOR_TO_ON_CHANGE=new WeakMap,EDITOR_TO_SCHEDULE_FLUSH=new WeakMap,EDITOR_TO_PENDING_INSERTION_MARKS=new WeakMap,EDITOR_TO_USER_MARKS=new WeakMap,EDITOR_TO_PENDING_DIFFS=new WeakMap,EDITOR_TO_PENDING_ACTION=
new WeakMap,EDITOR_TO_PENDING_SELECTION=new WeakMap,EDITOR_TO_FORCE_RENDER=new WeakMap,PLACEHOLDER_SYMBOL=Symbol("placeholder"),MARK_PLACEHOLDER_SYMBOL=Symbol("mark-placeholder"),arrayWithoutHoles=createCommonjsModule(function(module){module.exports=function(arr){if(Array.isArray(arr))return arrayLikeToArray(arr)};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(arrayWithoutHoles);var iterableToArray=createCommonjsModule(function(module){module.exports=function(iter){if("undefined"!==
typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)};module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(iterableToArray);var nonIterableSpread=createCommonjsModule(function(module){module.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");};module.exports.__esModule=!0;module.exports["default"]=module.exports});
unwrapExports(nonIterableSpread);var toConsumableArray=createCommonjsModule(function(module){module.exports=function(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||unsupportedIterableToArray(arr)||nonIterableSpread()};module.exports.__esModule=!0;module.exports["default"]=module.exports}),_toConsumableArray=unwrapExports(toConsumableArray),DOMText=globalThis.Text,getDefaultView=function(value){return value&&value.ownerDocument&&value.ownerDocument.defaultView||null},isDOMComment=function(value){return isDOMNode(value)&&
8===value.nodeType},isDOMElement=function(value){return isDOMNode(value)&&1===value.nodeType},isDOMNode=function(value){var window=getDefaultView(value);return!!window&&value instanceof window.Node},isDOMSelection=function(value){var window=value&&value.anchorNode&&getDefaultView(value.anchorNode);return!!window&&value instanceof window.Selection},isDOMText=function(value){return isDOMNode(value)&&3===value.nodeType},normalizeDOMPoint=function(domPoint){var _domPoint=_slicedToArray(domPoint,2);domPoint=
_domPoint[0];_domPoint=_domPoint[1];if(isDOMElement(domPoint)&&domPoint.childNodes.length){var isLast=_domPoint===domPoint.childNodes.length;domPoint=getEditableChildAndIndex(domPoint,isLast?_domPoint-1:_domPoint,isLast?"backward":"forward");isLast=_slicedToArray(domPoint,2);domPoint=isLast[0];for(isLast=isLast[1]<_domPoint;isDOMElement(domPoint)&&domPoint.childNodes.length;)domPoint=getEditableChildAndIndex(domPoint,isLast?domPoint.childNodes.length-1:0,isLast?"backward":"forward"),domPoint=_slicedToArray(domPoint,
1)[0];_domPoint=isLast&&null!=domPoint.textContent?domPoint.textContent.length:0}return[domPoint,_domPoint]},hasShadowRoot=function(node){for(node=node&&node.parentNode;node;){if("[object ShadowRoot]"===node.toString())return!0;node=node.parentNode}return!1},getEditableChildAndIndex=function(parent,index,direction){parent=parent.childNodes;for(var child=parent[index],i=index,triedForward=!1,triedBackward=!1;(isDOMComment(child)||isDOMElement(child)&&0===child.childNodes.length||isDOMElement(child)&&
"false"===child.getAttribute("contenteditable"))&&(!triedForward||!triedBackward);)i>=parent.length?(triedForward=!0,i=index-1,direction="backward"):0>i?(triedBackward=!0,i=index+1,direction="forward"):(child=parent[i],index=i,i+="forward"===direction?1:-1);return[child,index]},getPlainText=function getPlainText(domNode){var text="";if(isDOMText(domNode)&&domNode.nodeValue)return domNode.nodeValue;if(isDOMElement(domNode)){for(var _i=0,_Array$from=Array.from(domNode.childNodes);_i<_Array$from.length;_i++)text+=
getPlainText(_Array$from[_i]);_i=getComputedStyle(domNode).getPropertyValue("display");if("block"===_i||"list"===_i||"BR"===domNode.tagName)text+="\n"}return text},catchSlateFragment=/data-slate-fragment="(.+?)"/m,isTrackedMutation=function isTrackedMutation(editor,mutation,batch){var target=mutation.target;if(isDOMElement(target)&&target.matches('[contentEditable\x3d"false"]'))return!1;if(ReactEditor.getWindow(editor).document.contains(target))return ReactEditor.hasDOMNode(editor,target,{editable:!0});
var parentMutation=batch.find(function(_ref3){var removedNodes=_ref3.removedNodes;_ref3=_createForOfIteratorHelper$3(_ref3.addedNodes);var _step;try{for(_ref3.s();!(_step=_ref3.n()).done;){var node=_step.value;if(node===target||node.contains(target))return!0}}catch(err){_ref3.e(err)}finally{_ref3.f()}removedNodes=_createForOfIteratorHelper$3(removedNodes);var _step2;try{for(removedNodes.s();!(_step2=removedNodes.n()).done;){var _node=_step2.value;if(_node===target||_node.contains(target))return!0}}catch(err){removedNodes.e(err)}finally{removedNodes.f()}});
return parentMutation&&parentMutation!==mutation?isTrackedMutation(editor,parentMutation,batch):!1},createClass=createCommonjsModule(function(module){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,toPropertyKey(descriptor.key),descriptor)}}module.exports=function(Constructor,protoProps,staticProps){protoProps&&
_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:!1});return Constructor};module.exports.__esModule=!0;module.exports["default"]=module.exports}),_createClass=unwrapExports(createClass),classCallCheck=createCommonjsModule(function(module){module.exports=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");};module.exports.__esModule=
!0;module.exports["default"]=module.exports}),_classCallCheck=unwrapExports(classCallCheck),n$jscomp$0=0,Key=_createClass(function Key(){_classCallCheck(this,Key);_defineProperty(this,"id",void 0);this.id="".concat(n$jscomp$0++)}),ReactEditor={androidPendingDiffs:function(editor){return EDITOR_TO_PENDING_DIFFS.get(editor)},androidScheduleFlush:function(editor){var _EDITOR_TO_SCHEDULE_F;null===(_EDITOR_TO_SCHEDULE_F=EDITOR_TO_SCHEDULE_FLUSH.get(editor))||void 0===_EDITOR_TO_SCHEDULE_F||_EDITOR_TO_SCHEDULE_F()},
blur:function(editor){var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);IS_FOCUSED.set(editor,!1);root.activeElement===el&&el.blur()},deselect:function(editor){var selection=editor.selection,domSelection=ReactEditor.findDocumentOrShadowRoot(editor).getSelection();domSelection&&0<domSelection.rangeCount&&domSelection.removeAllRanges();selection&&slate.Transforms.deselect(editor)},findDocumentOrShadowRoot:function(editor){editor=ReactEditor.toDOMNode(editor,
editor);var root=editor.getRootNode();return(root instanceof Document||root instanceof ShadowRoot)&&null!=root.getSelection?root:editor.ownerDocument},findEventRange:function(editor,event){"nativeEvent"in event&&(event=event.nativeEvent);var _event=event,x=_event.clientX,y=_event.clientY,target=_event.target;if(null==x||null==y)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(event));var node=ReactEditor.toSlateNode(editor,event.target);_event=ReactEditor.findPath(editor,node);
if(slate.Element.isElement(node)&&slate.Editor.isVoid(editor,node)&&(target=target.getBoundingClientRect(),node=editor.isInline(node)?x-target.left<target.left+target.width-x:y-target.top<target.top+target.height-y,_event=slate.Editor.point(editor,_event,{edge:node?"start":"end"}),_event=node?slate.Editor.before(editor,_event):slate.Editor.after(editor,_event)))return slate.Editor.range(editor,_event);_event=ReactEditor.getWindow(editor).document;if(_event.caretRangeFromPoint)var domRange=_event.caretRangeFromPoint(x,
y);else if(x=_event.caretPositionFromPoint(x,y))domRange=_event.createRange(),domRange.setStart(x.offsetNode,x.offset),domRange.setEnd(x.offsetNode,x.offset);if(!domRange)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(event));return ReactEditor.toSlateRange(editor,domRange,{exactMatch:!1,suppressThrow:!1})},findKey:function(editor,node){editor=NODE_TO_KEY.get(node);editor||(editor=new Key,NODE_TO_KEY.set(node,editor));return editor},findPath:function(editor,node){editor=[];for(var child=
node;;){var parent=NODE_TO_PARENT.get(child);if(null==parent){if(slate.Editor.isEditor(child))return editor;break}child=NODE_TO_INDEX.get(child);if(null==child)break;editor.unshift(child);child=parent}throw Error("Unable to find the path for Slate node: ".concat(slate.Scrubber.stringify(node)));},focus:function(editor){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{retries:5};if(!IS_FOCUSED.get(editor)){if(0>=options.retries)throw Error("Could not set focus, editor seems stuck with pending operations");
if(0<editor.operations.length)setTimeout(function(){ReactEditor.focus(editor,{retries:options.retries-1})},10);else{var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);if(root.activeElement!==el){if(editor.selection&&root instanceof Document){root=root.getSelection();var domRange=ReactEditor.toDOMRange(editor,editor.selection);null===root||void 0===root||root.removeAllRanges();null===root||void 0===root||root.addRange(domRange)}editor.selection||(slate.Transforms.select(editor,
slate.Editor.start(editor,[])),editor.onChange());el.focus({preventScroll:!0});IS_FOCUSED.set(editor,!0)}}}},getWindow:function(editor){editor=EDITOR_TO_WINDOW.get(editor);if(!editor)throw Error("Unable to find a host window element for this editor");return editor},hasDOMNode:function(editor,target){var _options$editable=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).editable;_options$editable=void 0===_options$editable?!1:_options$editable;var editorEl=ReactEditor.toDOMNode(editor,editor);
try{var targetEl=isDOMElement(target)?target:target.parentElement}catch(err){if(err instanceof Error&&!err.message.includes('Permission denied to access property "nodeType"'))throw err;}return targetEl?targetEl.closest("[data-slate-editor]")===editorEl&&(!_options$editable||targetEl.isContentEditable?!0:"boolean"===typeof targetEl.isContentEditable&&targetEl.closest('[contenteditable\x3d"false"]')===editorEl||!!targetEl.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:function(editor,
target){return isDOMNode(target)&&ReactEditor.hasDOMNode(editor,target,{editable:!0})},hasRange:function(editor,range){var focus=range.focus;return slate.Editor.hasPath(editor,range.anchor.path)&&slate.Editor.hasPath(editor,focus.path)},hasSelectableTarget:function(editor,target){return ReactEditor.hasEditableTarget(editor,target)||ReactEditor.isTargetInsideNonReadonlyVoid(editor,target)},hasTarget:function(editor,target){return isDOMNode(target)&&ReactEditor.hasDOMNode(editor,target)},insertData:function(editor,
data){editor.insertData(data)},insertFragmentData:function(editor,data){return editor.insertFragmentData(data)},insertTextData:function(editor,data){return editor.insertTextData(data)},isComposing:function(editor){return!!IS_COMPOSING.get(editor)},isFocused:function(editor){return!!IS_FOCUSED.get(editor)},isReadOnly:function(editor){return!!IS_READ_ONLY.get(editor)},isTargetInsideNonReadonlyVoid:function(editor,target){if(IS_READ_ONLY.get(editor))return!1;target=ReactEditor.hasTarget(editor,target)&&
ReactEditor.toSlateNode(editor,target);return slate.Element.isElement(target)&&slate.Editor.isVoid(editor,target)},setFragmentData:function(editor,data,originEvent){return editor.setFragmentData(data,originEvent)},toDOMNode:function(editor,node){var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);editor=slate.Editor.isEditor(node)?EDITOR_TO_ELEMENT.get(editor):null===KEY_TO_ELEMENT||void 0===KEY_TO_ELEMENT?void 0:KEY_TO_ELEMENT.get(ReactEditor.findKey(editor,node));if(!editor)throw Error("Cannot resolve a DOM node from Slate node: ".concat(slate.Scrubber.stringify(node)));
return editor},toDOMPoint:function(editor,point){var _Editor$node=slate.Editor.node(editor,point.path);_Editor$node=_slicedToArray(_Editor$node,1)[0];_Editor$node=ReactEditor.toDOMNode(editor,_Editor$node);slate.Editor["void"](editor,{at:point})&&(point={path:point.path,offset:0});editor=Array.from(_Editor$node.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));for(var i=_Editor$node=0;i<editor.length;i++){var text=editor[i],domNode=text.childNodes[0];if(null!=domNode&&null!=domNode.textContent){var length=
domNode.textContent.length;text=text.getAttribute("data-slate-length");text=null==text?length:parseInt(text,10);var end=_Editor$node+text;text=editor[i+1];if(point.offset===end&&null!==text&&void 0!==text&&text.hasAttribute("data-slate-mark-placeholder")){var _nextText$textContent;var domPoint=text.childNodes[0];domPoint=[domPoint instanceof DOMText?domPoint:text,null!==(_nextText$textContent=text.textContent)&&void 0!==_nextText$textContent&&_nextText$textContent.startsWith("﻿")?1:0];break}if(point.offset<=
end){domPoint=[domNode,Math.min(length,Math.max(0,point.offset-_Editor$node))];break}_Editor$node=end}}if(!domPoint)throw Error("Cannot resolve a DOM point from Slate point: ".concat(slate.Scrubber.stringify(point)));return domPoint},toDOMRange:function(editor,range){var anchor=range.anchor,focus=range.focus,isBackward=slate.Range.isBackward(range);anchor=ReactEditor.toDOMPoint(editor,anchor);var domFocus=slate.Range.isCollapsed(range)?anchor:ReactEditor.toDOMPoint(editor,focus);editor=ReactEditor.getWindow(editor).document.createRange();
focus=_slicedToArray(isBackward?domFocus:anchor,2);range=focus[0];focus=focus[1];anchor=_slicedToArray(isBackward?anchor:domFocus,2);isBackward=anchor[0];anchor=anchor[1];domFocus=!!(isDOMElement(range)?range:range.parentElement).getAttribute("data-slate-zero-width");var isEndAtZeroWidth=!!(isDOMElement(isBackward)?isBackward:isBackward.parentElement).getAttribute("data-slate-zero-width");editor.setStart(range,domFocus?1:focus);editor.setEnd(isBackward,isEndAtZeroWidth?1:anchor);return editor},toSlateNode:function(editor,
domNode){(editor=isDOMElement(domNode)?domNode:domNode.parentElement)&&!editor.hasAttribute("data-slate-node")&&(editor=editor.closest("[data-slate-node]"));domNode=editor?ELEMENT_TO_NODE.get(editor):null;if(!domNode)throw Error("Cannot resolve a Slate node from DOM node: ".concat(editor));return domNode},toSlatePoint:function(editor,domPoint,options){var exactMatch=options.exactMatch,suppressThrow=options.suppressThrow;options=exactMatch?domPoint:normalizeDOMPoint(domPoint);options=_slicedToArray(options,
2);var nearestNode=options[0];options=options[1];var parentNode=nearestNode.parentNode,textNode=null,offset=0;if(parentNode){var _domNode$textContent,_domNode$textContent2,editorEl=ReactEditor.toDOMNode(editor,editor),potentialVoidNode=parentNode.closest('[data-slate-void\x3d"true"]'),voidNode=potentialVoidNode&&editorEl.contains(potentialVoidNode)?potentialVoidNode:null;editorEl=parentNode.closest("[data-slate-leaf]");potentialVoidNode=null;if(editorEl){if(textNode=editorEl.closest('[data-slate-node\x3d"text"]'))editorEl=
ReactEditor.getWindow(editor).document.createRange(),editorEl.setStart(textNode,0),editorEl.setEnd(nearestNode,options),nearestNode=editorEl.cloneContents(),[].concat(_toConsumableArray(Array.prototype.slice.call(nearestNode.querySelectorAll("[data-slate-zero-width]"))),_toConsumableArray(Array.prototype.slice.call(nearestNode.querySelectorAll("[contenteditable\x3dfalse]")))).forEach(function(el){IS_ANDROID&&!exactMatch&&el.hasAttribute("data-slate-zero-width")&&0<el.textContent.length&&"﻿"!==el.textContext?
el.textContent.startsWith("﻿")&&(el.textContent=el.textContent.slice(1)):el.parentNode.removeChild(el)}),offset=nearestNode.textContent.length,potentialVoidNode=textNode}else if(voidNode){nearestNode=voidNode.querySelectorAll("[data-slate-leaf]");for(voidNode=0;voidNode<nearestNode.length;voidNode++){var current=nearestNode[voidNode];if(ReactEditor.hasDOMNode(editor,current)){editorEl=current;break}}editorEl?(textNode=editorEl.closest('[data-slate-node\x3d"text"]'),potentialVoidNode=editorEl,offset=
potentialVoidNode.textContent.length,potentialVoidNode.querySelectorAll("[data-slate-zero-width]").forEach(function(el){offset-=el.textContent.length})):offset=1}potentialVoidNode&&offset===potentialVoidNode.textContent.length&&IS_ANDROID&&"z"===potentialVoidNode.getAttribute("data-slate-zero-width")&&null!==(_domNode$textContent=potentialVoidNode.textContent)&&void 0!==_domNode$textContent&&_domNode$textContent.startsWith("﻿")&&(parentNode.hasAttribute("data-slate-zero-width")||IS_FIREFOX&&null!==
(_domNode$textContent2=potentialVoidNode.textContent)&&void 0!==_domNode$textContent2&&_domNode$textContent2.endsWith("\n\n"))&&offset--}if(IS_ANDROID&&!textNode&&!exactMatch&&(_domNode$textContent=parentNode.hasAttribute("data-slate-node")?parentNode:parentNode.closest("[data-slate-node]"))&&ReactEditor.hasDOMNode(editor,_domNode$textContent,{editable:!0}))return domPoint=ReactEditor.toSlateNode(editor,_domNode$textContent),domPoint=slate.Editor.start(editor,ReactEditor.findPath(editor,domPoint)),
editor=domPoint.path,domPoint=domPoint.offset,_domNode$textContent.querySelector("[data-slate-leaf]")||(domPoint=options),{path:editor,offset:domPoint};if(!textNode){if(suppressThrow)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(domPoint));}options=ReactEditor.toSlateNode(editor,textNode);return{path:ReactEditor.findPath(editor,options),offset}},toSlateRange:function(editor,domRange,options){var _focusNode$textConten,exactMatch=options.exactMatch;options=options.suppressThrow;
if(isDOMSelection(domRange)?domRange.anchorNode:domRange.startContainer)if(isDOMSelection(domRange)){if(IS_FIREFOX&&1<domRange.rangeCount){var focusNode=domRange.focusNode;var isCollapsed=domRange.getRangeAt(0);var focusOffset=domRange.getRangeAt(domRange.rangeCount-1);if(focusNode instanceof HTMLTableRowElement&&isCollapsed.startContainer instanceof HTMLTableRowElement&&focusOffset.startContainer instanceof HTMLTableRowElement){var anchorNode=function getLastChildren(element){return 0<element.childElementCount?
getLastChildren(element.children[0]):element};var anchorOffset=focusOffset.startContainer;focusNode=anchorNode(isCollapsed.startContainer.children[isCollapsed.startOffset]);anchorOffset=anchorNode(anchorOffset.children[focusOffset.startOffset]);focusOffset=0;anchorNode=0<anchorOffset.childNodes.length?anchorOffset.childNodes[0]:anchorOffset;focusNode=0<focusNode.childNodes.length?focusNode.childNodes[0]:focusNode;anchorOffset=anchorOffset instanceof HTMLElement?anchorOffset.innerHTML.length:0}else isCollapsed.startContainer===
focusNode?(anchorNode=focusOffset.endContainer,anchorOffset=focusOffset.endOffset,focusOffset=isCollapsed.startOffset):(anchorNode=isCollapsed.startContainer,anchorOffset=isCollapsed.endOffset,focusOffset=focusOffset.startOffset)}else anchorNode=domRange.anchorNode,anchorOffset=domRange.anchorOffset,focusNode=domRange.focusNode,focusOffset=domRange.focusOffset;isCollapsed=IS_CHROME&&hasShadowRoot(anchorNode)||IS_FIREFOX?domRange.anchorNode===domRange.focusNode&&domRange.anchorOffset===domRange.focusOffset:
domRange.isCollapsed}else anchorNode=domRange.startContainer,anchorOffset=domRange.startOffset,focusNode=domRange.endContainer,focusOffset=domRange.endOffset,isCollapsed=domRange.collapsed;if(null==anchorNode||null==focusNode||null==anchorOffset||null==focusOffset)throw Error("Cannot resolve a Slate range from DOM range: ".concat(domRange));IS_FIREFOX&&null!==(_focusNode$textConten=focusNode.textContent)&&void 0!==_focusNode$textConten&&_focusNode$textConten.endsWith("\n\n")&&focusOffset===focusNode.textContent.length&&
focusOffset--;if("getAttribute"in focusNode&&"false"===focusNode.getAttribute("contenteditable")&&"true"!==focusNode.getAttribute("data-slate-void")){var _anchorNode$textConte;focusNode=anchorNode;focusOffset=(null===(_anchorNode$textConte=anchorNode.textContent)||void 0===_anchorNode$textConte?void 0:_anchorNode$textConte.length)||0}domRange=ReactEditor.toSlatePoint(editor,[anchorNode,anchorOffset],{exactMatch,suppressThrow:options});if(!domRange)return null;exactMatch=isCollapsed?domRange:ReactEditor.toSlatePoint(editor,
[focusNode,focusOffset],{exactMatch,suppressThrow:options});if(!exactMatch)return null;exactMatch={anchor:domRange,focus:exactMatch};slate.Range.isExpanded(exactMatch)&&slate.Range.isForward(exactMatch)&&isDOMElement(focusNode)&&slate.Editor["void"](editor,{at:exactMatch.focus,mode:"highest"})&&(exactMatch=slate.Editor.unhangRange(editor,exactMatch,{voids:!0}));return exactMatch}},debug=function(){},useIsomorphicLayoutEffect=CAN_USE_DOM?React.useLayoutEffect:React.useEffect,_excluded$3=["node"],MUTATION_OBSERVER_CONFIG$1=
{subtree:!0,childList:!0,characterData:!0},useAndroidInputManager=IS_ANDROID?function(_ref){var node=_ref.node,options=_objectWithoutProperties(_ref,_excluded$3);if(!IS_ANDROID)return null;var editor=useSlateStatic();_ref=useIsMounted();var _useState=React.useState(function(){return createAndroidInputManager(_objectSpread$5({editor},options))});_useState=_slicedToArray(_useState,1)[0];useMutationObserver(node,_useState.handleDomMutations,MUTATION_OBSERVER_CONFIG$1);EDITOR_TO_SCHEDULE_FLUSH.set(editor,
_useState.scheduleFlush);_ref&&_useState.flush();return _useState}:function(){return null},_excluded$2=["anchor","focus"],_excluded2$1=["anchor","focus"],shallowCompare=function(obj1,obj2){return Object.keys(obj1).length===Object.keys(obj2).length&&Object.keys(obj1).every(function(key){return obj2.hasOwnProperty(key)&&obj1[key]===obj2[key]})},isDecorationFlagsEqual=function(range,other){range.anchor;range.focus;var rangeOwnProps=_objectWithoutProperties(range,_excluded$2);other.anchor;other.focus;
var otherOwnProps=_objectWithoutProperties(other,_excluded2$1);return range[PLACEHOLDER_SYMBOL]===other[PLACEHOLDER_SYMBOL]&&shallowCompare(rangeOwnProps,otherOwnProps)},String$1=function(props){var isLast=props.isLast,leaf=props.leaf,parent=props.parent;props=props.text;var editor=useSlateStatic(),path=ReactEditor.findPath(editor,props);path=slate.Path.parent(path);var isMarkPlaceholder=!!leaf[MARK_PLACEHOLDER_SYMBOL];return editor.isVoid(parent)?React.createElement(ZeroWidthString,{length:slate.Node.string(parent).length}):
""!==leaf.text||parent.children[parent.children.length-1]!==props||editor.isInline(parent)||""!==slate.Editor.string(editor,path)?""===leaf.text?React.createElement(ZeroWidthString,{isMarkPlaceholder}):isLast&&"\n"===leaf.text.slice(-1)?React.createElement(TextString,{isTrailing:!0,text:leaf.text}):React.createElement(TextString,{text:leaf.text}):React.createElement(ZeroWidthString,{isLineBreak:!0,isMarkPlaceholder})},TextString=function(props){var text=props.text;props=props.isTrailing;var isTrailing=
void 0===props?!1:props,ref=React.useRef(null),getTextContent=function(){return"".concat(null!==text&&void 0!==text?text:"").concat(isTrailing?"\n":"")};props=React.useState(getTextContent);props=_slicedToArray(props,1)[0];useIsomorphicLayoutEffect(function(){var textWithTrailing=getTextContent();ref.current&&ref.current.textContent!==textWithTrailing&&(ref.current.textContent=textWithTrailing)});return React.createElement(MemoizedText$1,{ref},props)},MemoizedText$1=React.memo(React.forwardRef(function(props,
ref){return React.createElement("span",{"data-slate-string":!0,ref},props.children)})),ZeroWidthString=function(props){var _props$length=props.length,_props$isLineBreak=props.isLineBreak;_props$isLineBreak=void 0===_props$isLineBreak?!1:_props$isLineBreak;props=props.isMarkPlaceholder;_props$length={"data-slate-zero-width":_props$isLineBreak?"n":"z","data-slate-length":void 0===_props$length?0:_props$length};if(void 0===props?0:props)_props$length["data-slate-mark-placeholder"]=!0;return React.createElement("span",
_objectSpread$4({},_props$length),IS_ANDROID&&_props$isLineBreak?null:"﻿",_props$isLineBreak?React.createElement("br",null):null)},PLACEHOLDER_DELAY=IS_ANDROID?300:0,MemoizedLeaf=React.memo(function(props$jscomp$0){var leaf=props$jscomp$0.leaf,isLast=props$jscomp$0.isLast,text=props$jscomp$0.text,parent=props$jscomp$0.parent,renderPlaceholder=props$jscomp$0.renderPlaceholder;props$jscomp$0=props$jscomp$0.renderLeaf;props$jscomp$0=void 0===props$jscomp$0?function(props){return React.createElement(DefaultLeaf,
_objectSpread$3({},props))}:props$jscomp$0;var editor=useSlateStatic(),placeholderResizeObserver=React.useRef(null),placeholderRef=React.useRef(null),_useState=React.useState(!1),_useState2=_slicedToArray(_useState,2);_useState=_useState2[0];var setShowPlaceholder=_useState2[1],showPlaceholderTimeoutRef=React.useRef(null);_useState2=React.useCallback(function(placeholderEl){disconnectPlaceholderResizeObserver(placeholderResizeObserver,null==placeholderEl);if(null==placeholderEl){var _leaf$onPlaceholderRe;
EDITOR_TO_PLACEHOLDER_ELEMENT["delete"](editor);null===(_leaf$onPlaceholderRe=leaf.onPlaceholderResize)||void 0===_leaf$onPlaceholderRe||_leaf$onPlaceholderRe.call(leaf,null)}else EDITOR_TO_PLACEHOLDER_ELEMENT.set(editor,placeholderEl),placeholderResizeObserver.current||(placeholderResizeObserver.current=new (window.ResizeObserver||resizeObserver.ResizeObserver)(function(){var _leaf$onPlaceholderRe2;null===(_leaf$onPlaceholderRe2=leaf.onPlaceholderResize)||void 0===_leaf$onPlaceholderRe2||_leaf$onPlaceholderRe2.call(leaf,
placeholderEl)})),placeholderResizeObserver.current.observe(placeholderEl),placeholderRef.current=placeholderEl},[placeholderRef,leaf,editor]);isLast=React.createElement(String$1,{isLast,leaf,parent,text});var leafIsPlaceholder=!!leaf[PLACEHOLDER_SYMBOL];React.useEffect(function(){leafIsPlaceholder?showPlaceholderTimeoutRef.current||(showPlaceholderTimeoutRef.current=setTimeout(function(){setShowPlaceholder(!0);showPlaceholderTimeoutRef.current=null},PLACEHOLDER_DELAY)):(clearTimeoutRef(showPlaceholderTimeoutRef),
setShowPlaceholder(!1));return function(){return clearTimeoutRef(showPlaceholderTimeoutRef)}},[leafIsPlaceholder,setShowPlaceholder]);leafIsPlaceholder&&_useState&&(isLast=React.createElement(React.Fragment,null,renderPlaceholder({children:leaf.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:IS_WEBKIT?"inherit":void 0},contentEditable:!1,
ref:_useState2}}),isLast));return props$jscomp$0({attributes:{"data-slate-leaf":!0},children:isLast,leaf,text})},function(prev,next){return next.parent===prev.parent&&next.isLast===prev.isLast&&next.renderLeaf===prev.renderLeaf&&next.renderPlaceholder===prev.renderPlaceholder&&next.text===prev.text&&slate.Text.equals(next.leaf,prev.leaf)&&next.leaf[PLACEHOLDER_SYMBOL]===prev.leaf[PLACEHOLDER_SYMBOL]}),DefaultLeaf=function(props){var children=props.children;return React.createElement("span",_objectSpread$3({},
props.attributes),children)},MemoizedText=React.memo(function(props){var decorations=props.decorations,isLast=props.isLast,parent=props.parent,renderPlaceholder=props.renderPlaceholder,renderLeaf=props.renderLeaf,text=props.text,editor=useSlateStatic(),ref=React.useRef(null);decorations=slate.Text.decorations(text,decorations);var key=ReactEditor.findKey(editor,text);props=[];for(var i=0;i<decorations.length;i++){var leaf=decorations[i];props.push(React.createElement(MemoizedLeaf,{isLast:isLast&&
i===decorations.length-1,key:"".concat(key.id,"-").concat(i),renderPlaceholder,leaf,text,parent,renderLeaf}))}isLast=React.useCallback(function(span){var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);if(span)null===KEY_TO_ELEMENT||void 0===KEY_TO_ELEMENT||KEY_TO_ELEMENT.set(key,span),NODE_TO_ELEMENT.set(text,span),ELEMENT_TO_NODE.set(span,text);else if(null===KEY_TO_ELEMENT||void 0===KEY_TO_ELEMENT||KEY_TO_ELEMENT["delete"](key),NODE_TO_ELEMENT["delete"](text),ref.current)ELEMENT_TO_NODE["delete"](ref.current);
ref.current=span},[ref,editor,key,text]);return React.createElement("span",{"data-slate-node":"text",ref:isLast},props)},function(prev,next){var JSCompiler_temp;if(JSCompiler_temp=next.parent===prev.parent&&next.isLast===prev.isLast&&next.renderLeaf===prev.renderLeaf&&next.renderPlaceholder===prev.renderPlaceholder&&next.text===prev.text)a:if(next=next.decorations,prev=prev.decorations,next.length!==prev.length)JSCompiler_temp=!1;else{for(JSCompiler_temp=0;JSCompiler_temp<next.length;JSCompiler_temp++){var range=
next[JSCompiler_temp],other=prev[JSCompiler_temp];if(range.anchor.offset!==other.anchor.offset||range.focus.offset!==other.focus.offset||!isDecorationFlagsEqual(range,other)){JSCompiler_temp=!1;break a}}JSCompiler_temp=!0}return JSCompiler_temp}),MemoizedElement=React.memo(function(props){var decorations=props.decorations,element=props.element,_props$renderElement=props.renderElement;_props$renderElement=void 0===_props$renderElement?function(p){return React.createElement(DefaultElement,_objectSpread$2({},
p))}:_props$renderElement;var renderPlaceholder=props.renderPlaceholder,renderLeaf=props.renderLeaf,selection=props.selection,editor=useSlateStatic();props=useReadOnly();var isInline=editor.isInline(element),key=ReactEditor.findKey(editor,element),ref$jscomp$0=React.useCallback(function(ref){var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);ref?(null===KEY_TO_ELEMENT||void 0===KEY_TO_ELEMENT||KEY_TO_ELEMENT.set(key,ref),NODE_TO_ELEMENT.set(element,ref),ELEMENT_TO_NODE.set(ref,element)):(null===
KEY_TO_ELEMENT||void 0===KEY_TO_ELEMENT||KEY_TO_ELEMENT["delete"](key),NODE_TO_ELEMENT["delete"](element))},[editor,key,element]);renderLeaf=useChildren({decorations,node:element,renderElement:_props$renderElement,renderPlaceholder,renderLeaf,selection});decorations={"data-slate-node":"element",ref:ref$jscomp$0};isInline&&(decorations["data-slate-inline"]=!0);!isInline&&slate.Editor.hasInlines(editor,element)&&(ref$jscomp$0=slate.Node.string(element),ref$jscomp$0=getDirection(ref$jscomp$0),"rtl"===
ref$jscomp$0&&(decorations.dir=ref$jscomp$0));slate.Editor.isVoid(editor,element)&&(decorations["data-slate-void"]=!0,!props&&isInline&&(decorations.contentEditable=!1),props=isInline?"span":"div",isInline=slate.Node.texts(element),isInline=_slicedToArray(isInline,1),isInline=_slicedToArray(isInline[0],1)[0],renderLeaf=React.createElement(props,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},React.createElement(MemoizedText,{renderPlaceholder,decorations:[],
isLast:!1,parent:element,text:isInline})),NODE_TO_INDEX.set(isInline,0),NODE_TO_PARENT.set(isInline,element));return _props$renderElement({attributes:decorations,children:renderLeaf,element})},function(prev,next){var JSCompiler_temp;if(JSCompiler_temp=prev.element===next.element&&prev.renderElement===next.renderElement&&prev.renderLeaf===next.renderLeaf&&prev.renderPlaceholder===next.renderPlaceholder)a:{JSCompiler_temp=prev.decorations;var another=next.decorations;if(JSCompiler_temp.length!==another.length)JSCompiler_temp=
!1;else{for(var i=0;i<JSCompiler_temp.length;i++){var range=JSCompiler_temp[i],other=another[i];if(!slate.Range.equals(range,other)||!isDecorationFlagsEqual(range,other)){JSCompiler_temp=!1;break a}}JSCompiler_temp=!0}}return JSCompiler_temp&&(prev.selection===next.selection||!!prev.selection&&!!next.selection&&slate.Range.equals(prev.selection,next.selection))}),DefaultElement=function(props){var attributes=props.attributes,children=props.children;props=props.element;props=useSlateStatic().isInline(props)?
"span":"div";return React.createElement(props,_objectSpread$2(_objectSpread$2({},attributes),{},{style:{position:"relative"}}),children)},DecorateContext=React.createContext(function(){return[]}),SelectedContext=React.createContext(!1),useChildren=function(props){var decorations=props.decorations,node=props.node,renderElement=props.renderElement,renderPlaceholder=props.renderPlaceholder,renderLeaf=props.renderLeaf;props=props.selection;for(var decorate=React.useContext(DecorateContext),editor=useSlateStatic(),
path=ReactEditor.findPath(editor,node),children=[],isLeafBlock=slate.Element.isElement(node)&&!editor.isInline(node)&&slate.Editor.hasInlines(editor,node),i=0;i<node.children.length;i++){var p=path.concat(i),n=node.children[i],key=ReactEditor.findKey(editor,n),range=slate.Editor.range(editor,p),sel=props&&slate.Range.intersection(range,props);p=decorate([n,p]);var _iterator=_createForOfIteratorHelper$2(decorations),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=slate.Range.intersection(_step.value,
range);d&&p.push(d)}}catch(err){_iterator.e(err)}finally{_iterator.f()}slate.Element.isElement(n)?children.push(React.createElement(SelectedContext.Provider,{key:"provider-".concat(key.id),value:!!sel},React.createElement(MemoizedElement,{decorations:p,element:n,key:key.id,renderElement,renderPlaceholder,renderLeaf,selection:sel}))):children.push(React.createElement(MemoizedText,{decorations:p,key:key.id,isLast:isLeafBlock&&i===node.children.length-1,parent:node,renderPlaceholder,renderLeaf,text:n}));
NODE_TO_INDEX.set(n,i);NODE_TO_PARENT.set(n,node)}return children},ReadOnlyContext=React.createContext(!1),useReadOnly=function(){return React.useContext(ReadOnlyContext)},SlateContext=React.createContext(null),useSlate=function(){var context=React.useContext(SlateContext);if(!context)throw Error("The `useSlate` hook must be used inside the \x3cSlate\x3e component's context.");return context.editor},HOTKEYS={bold:"mod+b",compose:"down left right up backspace enter".split(" "),moveBackward:"left",
moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},APPLE_HOTKEYS={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",
deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},WINDOWS_HOTKEYS={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},create=function(key){var generic=HOTKEYS[key],apple=APPLE_HOTKEYS[key];key=WINDOWS_HOTKEYS[key];var isGeneric=generic&&isHotkey.isHotkey(generic),
isApple=apple&&isHotkey.isHotkey(apple),isWindows=key&&isHotkey.isHotkey(key);return function(event){return isGeneric&&isGeneric(event)||IS_APPLE&&isApple&&isApple(event)||!IS_APPLE&&isWindows&&isWindows(event)?!0:!1}},Hotkeys={isBold:create("bold"),isCompose:create("compose"),isMoveBackward:create("moveBackward"),isMoveForward:create("moveForward"),isDeleteBackward:create("deleteBackward"),isDeleteForward:create("deleteForward"),isDeleteLineBackward:create("deleteLineBackward"),isDeleteLineForward:create("deleteLineForward"),
isDeleteWordBackward:create("deleteWordBackward"),isDeleteWordForward:create("deleteWordForward"),isExtendBackward:create("extendBackward"),isExtendForward:create("extendForward"),isExtendLineBackward:create("extendLineBackward"),isExtendLineForward:create("extendLineForward"),isItalic:create("italic"),isMoveLineBackward:create("moveLineBackward"),isMoveLineForward:create("moveLineForward"),isMoveWordBackward:create("moveWordBackward"),isMoveWordForward:create("moveWordForward"),isRedo:create("redo"),
isSoftBreak:create("insertSoftBreak"),isSplitBlock:create("splitBlock"),isTransposeCharacter:create("transposeCharacter"),isUndo:create("undo")},assertThisInitialized=createCommonjsModule(function(module){module.exports=function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self};module.exports.__esModule=!0;module.exports["default"]=module.exports}),_assertThisInitialized=unwrapExports(assertThisInitialized),setPrototypeOf=createCommonjsModule(function(module){function _setPrototypeOf(o$jscomp$0,
p$jscomp$0){module.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){o.__proto__=p;return o};module.exports.__esModule=!0;module.exports["default"]=module.exports;return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}module.exports=_setPrototypeOf;module.exports.__esModule=!0;module.exports["default"]=module.exports});unwrapExports(setPrototypeOf);var inherits=createCommonjsModule(function(module){module.exports=function(subClass,superClass){if("function"!==typeof superClass&&
null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});Object.defineProperty(subClass,"prototype",{writable:!1});superClass&&setPrototypeOf(subClass,superClass)};module.exports.__esModule=!0;module.exports["default"]=module.exports}),_inherits=unwrapExports(inherits),possibleConstructorReturn=createCommonjsModule(function(module){var _typeof=
_typeof_1["default"];module.exports=function(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return assertThisInitialized(self)};module.exports.__esModule=!0;module.exports["default"]=module.exports}),_possibleConstructorReturn=unwrapExports(possibleConstructorReturn),getPrototypeOf=createCommonjsModule(function(module){function _getPrototypeOf(o$jscomp$0){module.exports=
_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)};module.exports.__esModule=!0;module.exports["default"]=module.exports;return _getPrototypeOf(o$jscomp$0)}module.exports=_getPrototypeOf;module.exports.__esModule=!0;module.exports["default"]=module.exports}),_getPrototypeOf=unwrapExports(getPrototypeOf),createRestoreDomManager=function(editor,receivedUserInput){var bufferedMutations=[],clear=function(){bufferedMutations=[]};
return{registerMutations:function(mutations){var _bufferedMutations;if(receivedUserInput.current){var trackedMutations=mutations.filter(function(mutation){return isTrackedMutation(editor,mutation,mutations)});(_bufferedMutations=bufferedMutations).push.apply(_bufferedMutations,_toConsumableArray(trackedMutations))}},restoreDOM:function(){0<bufferedMutations.length&&(bufferedMutations.reverse().forEach(function(mutation){"characterData"!==mutation.type&&(mutation.removedNodes.forEach(function(node){mutation.target.insertBefore(node,
mutation.nextSibling)}),mutation.addedNodes.forEach(function(node){mutation.target.removeChild(node)}))}),clear())},clear}},MUTATION_OBSERVER_CONFIG={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0},RestoreDOMComponent=function(_Component){function RestoreDOMComponent(){_classCallCheck(this,RestoreDOMComponent);var _this=arguments.length;for(var args=Array(_this),_key=0;_key<_this;_key++)args[_key]=arguments[_key];_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),
"context",null);_defineProperty(_assertThisInitialized(_this),"manager",null);_defineProperty(_assertThisInitialized(_this),"mutationObserver",null);return _this}_inherits(RestoreDOMComponent,_Component);var _super=_createSuper(RestoreDOMComponent);_createClass(RestoreDOMComponent,[{key:"observe",value:function(){var _this$mutationObserve,node=this.props.node;if(!node.current)throw Error("Failed to attach MutationObserver, `node` is undefined");null===(_this$mutationObserve=this.mutationObserver)||
void 0===_this$mutationObserve||_this$mutationObserve.observe(node.current,MUTATION_OBSERVER_CONFIG)}},{key:"componentDidMount",value:function(){this.manager=createRestoreDomManager(this.context,this.props.receivedUserInput);this.mutationObserver=new MutationObserver(this.manager.registerMutations);this.observe()}},{key:"getSnapshotBeforeUpdate",value:function(){var _this$mutationObserve2,_this$mutationObserve3,_this$manager2,pendingMutations=null===(_this$mutationObserve2=this.mutationObserver)||
void 0===_this$mutationObserve2?void 0:_this$mutationObserve2.takeRecords();if(null!==pendingMutations&&void 0!==pendingMutations&&pendingMutations.length){var _this$manager;null===(_this$manager=this.manager)||void 0===_this$manager||_this$manager.registerMutations(pendingMutations)}null===(_this$mutationObserve3=this.mutationObserver)||void 0===_this$mutationObserve3||_this$mutationObserve3.disconnect();null===(_this$manager2=this.manager)||void 0===_this$manager2||_this$manager2.restoreDOM();return null}},
{key:"componentDidUpdate",value:function(){var _this$manager3;null===(_this$manager3=this.manager)||void 0===_this$manager3||_this$manager3.clear();this.observe()}},{key:"componentWillUnmount",value:function(){var _this$mutationObserve4;null===(_this$mutationObserve4=this.mutationObserver)||void 0===_this$mutationObserve4||_this$mutationObserve4.disconnect()}},{key:"render",value:function(){return this.props.children}}]);return RestoreDOMComponent}(React.Component);_defineProperty(RestoreDOMComponent,
"contextType",EditorContext);var RestoreDOM=IS_ANDROID?RestoreDOMComponent:function(_ref){return React.createElement(React.Fragment,null,_ref.children)},_excluded$1="autoFocus decorate onDOMBeforeInput placeholder readOnly renderElement renderLeaf renderPlaceholder scrollSelectionIntoView style as disableDefaultStyles".split(" "),_excluded2=["text"],Children=function(props){return React.createElement(React.Fragment,null,useChildren(props))},DefaultPlaceholder=function(_ref){var children=_ref.children;
return React.createElement("span",_objectSpread$1({},_ref.attributes),children,IS_ANDROID&&React.createElement("br",null))},defaultDecorate=function(){return[]},defaultScrollSelectionIntoView=function(editor,domRange){domRange.getBoundingClientRect&&(!editor.selection||editor.selection&&slate.Range.isCollapsed(editor.selection))&&(editor=domRange.startContainer.parentElement,editor.getBoundingClientRect=domRange.getBoundingClientRect.bind(domRange),scrollIntoView(editor,{scrollMode:"if-needed"}),
delete editor.getBoundingClientRect)},isEventHandled=function(event,handler){if(!handler)return!1;handler=handler(event);return null!=handler?handler:event.isDefaultPrevented()||event.isPropagationStopped()},isDOMEventTargetInput=function(event){return isDOMNode(event.target)&&(event.target instanceof HTMLInputElement||event.target instanceof HTMLTextAreaElement)},isDOMEventHandled=function(event,handler){if(!handler)return!1;handler=handler(event);return null!=handler?handler:event.defaultPrevented},
FocusedContext=React.createContext(!1),SlateSelectorContext=React.createContext({}),refEquality=function(a,b){return a===b},_excluded="editor children onChange onSelectionChange onValueChange initialValue".split(" "),isSelectionEqual=function(a,b){return a||b?a&&b?slate.Range.equals(a,b):!1:!0},doRectsIntersect=function(rect,compareRect){compareRect=(compareRect.top+compareRect.bottom)/2;return rect.top<=compareRect&&rect.bottom>=compareRect},areRangesSameLine=function(editor,range1,range2){range1=
ReactEditor.toDOMRange(editor,range1).getBoundingClientRect();editor=ReactEditor.toDOMRange(editor,range2).getBoundingClientRect();return doRectsIntersect(range1,editor)&&doRectsIntersect(editor,range1)},findCurrentLineRange=function(editor,parentRange){var parentRangeBoundary=slate.Editor.range(editor,slate.Range.end(parentRange));parentRange=Array.from(slate.Editor.positions(editor,{at:parentRange}));var left=0,right=parentRange.length,middle=Math.floor(right/2);if(areRangesSameLine(editor,slate.Editor.range(editor,
parentRange[left]),parentRangeBoundary))return slate.Editor.range(editor,parentRange[left],parentRangeBoundary);if(2>parentRange.length)return slate.Editor.range(editor,parentRange[parentRange.length-1],parentRangeBoundary);for(;middle!==parentRange.length&&middle!==left;)areRangesSameLine(editor,slate.Editor.range(editor,parentRange[middle]),parentRangeBoundary)?right=middle:left=middle,middle=Math.floor((left+right)/2);return slate.Editor.range(editor,parentRange[right],parentRangeBoundary)},getMatches=
function(e,path){var matches=[];path=_createForOfIteratorHelper(slate.Editor.levels(e,{at:path}));var _step2;try{for(path.s();!(_step2=path.n()).done;){var _step2$value=_slicedToArray(_step2.value,2),p=_step2$value[1],key=ReactEditor.findKey(e,_step2$value[0]);matches.push([p,key])}}catch(err){path.e(err)}finally{path.f()}return matches};exports.DefaultElement=DefaultElement;exports.DefaultLeaf=DefaultLeaf;exports.DefaultPlaceholder=DefaultPlaceholder;exports.Editable=function(props$jscomp$0){var defaultRenderPlaceholder=
React.useCallback(function(props){return React.createElement(DefaultPlaceholder,_objectSpread$1({},props))},[]),autoFocus=props$jscomp$0.autoFocus,_props$decorate=props$jscomp$0.decorate;_props$decorate=void 0===_props$decorate?defaultDecorate:_props$decorate;var propsOnDOMBeforeInput=props$jscomp$0.onDOMBeforeInput,placeholder=props$jscomp$0.placeholder,_props$readOnly=props$jscomp$0.readOnly,readOnly=void 0===_props$readOnly?!1:_props$readOnly;_props$readOnly=props$jscomp$0.renderElement;var renderLeaf=
props$jscomp$0.renderLeaf,_props$renderPlacehol=props$jscomp$0.renderPlaceholder;defaultRenderPlaceholder=void 0===_props$renderPlacehol?defaultRenderPlaceholder:_props$renderPlacehol;_props$renderPlacehol=props$jscomp$0.scrollSelectionIntoView;var scrollSelectionIntoView=void 0===_props$renderPlacehol?defaultScrollSelectionIntoView:_props$renderPlacehol;_props$renderPlacehol=props$jscomp$0.style;_props$renderPlacehol=void 0===_props$renderPlacehol?{}:_props$renderPlacehol;var _props$as=props$jscomp$0.as;
_props$as=void 0===_props$as?"div":_props$as;var _props$disableDefault=props$jscomp$0.disableDefaultStyles;_props$disableDefault=void 0===_props$disableDefault?!1:_props$disableDefault;var attributes=_objectWithoutProperties(props$jscomp$0,_excluded$1),editor=useSlate();props$jscomp$0=React.useState(!1);props$jscomp$0=_slicedToArray(props$jscomp$0,2);var isComposing=props$jscomp$0[0],setIsComposing=props$jscomp$0[1],ref=React.useRef(null),deferredOperations=React.useRef([]);props$jscomp$0=React.useState();
var _useState4=_slicedToArray(props$jscomp$0,2);props$jscomp$0=_useState4[0];var setPlaceholderHeight=_useState4[1];_useState4=useTrackUserInput();var onUserInput=_useState4.onUserInput;_useState4=_useState4.receivedUserInput;var _useReducer=React.useReducer(function(s){return s+1},0);_useReducer=_slicedToArray(_useReducer,2)[1];EDITOR_TO_FORCE_RENDER.set(editor,_useReducer);IS_READ_ONLY.set(editor,readOnly);var state=React.useMemo(function(){return{isDraggingInternally:!1,isUpdatingSelection:!1,
latestElement:null,hasMarkPlaceholder:!1}},[]);React.useEffect(function(){ref.current&&autoFocus&&ref.current.focus()},[autoFocus]);var androidInputManagerRef=React.useRef(),onDOMSelectionChange=React.useMemo(function(){return throttle(function(){var androidInputManager=androidInputManagerRef.current;if((IS_ANDROID||!ReactEditor.isComposing(editor))&&(!state.isUpdatingSelection||null!==androidInputManager&&void 0!==androidInputManager&&androidInputManager.isFlushing())&&!state.isDraggingInternally){var root=
ReactEditor.findDocumentOrShadowRoot(editor),activeElement=root.activeElement,el=ReactEditor.toDOMNode(editor,editor);root=root.getSelection();if(activeElement===el)state.latestElement=activeElement,IS_FOCUSED.set(editor,!0);else IS_FOCUSED["delete"](editor);if(!root)return slate.Transforms.deselect(editor);activeElement=root.anchorNode;el=root.focusNode;activeElement=ReactEditor.hasEditableTarget(editor,activeElement)||ReactEditor.isTargetInsideNonReadonlyVoid(editor,activeElement);el=ReactEditor.hasEditableTarget(editor,
el)||ReactEditor.isTargetInsideNonReadonlyVoid(editor,el);activeElement&&el&&(root=ReactEditor.toSlateRange(editor,root,{exactMatch:!1,suppressThrow:!0}))&&(ReactEditor.isComposing(editor)||null!==androidInputManager&&void 0!==androidInputManager&&androidInputManager.hasPendingChanges()||null!==androidInputManager&&void 0!==androidInputManager&&androidInputManager.isFlushing()?null===androidInputManager||void 0===androidInputManager||androidInputManager.handleUserSelect(root):slate.Transforms.select(editor,
root));!readOnly||activeElement&&el||slate.Transforms.deselect(editor)}},100)},[editor,readOnly,state]),scheduleOnDOMSelectionChange=React.useMemo(function(){return debounce(onDOMSelectionChange,0)},[onDOMSelectionChange]);androidInputManagerRef.current=useAndroidInputManager({node:ref,onDOMSelectionChange,scheduleOnDOMSelectionChange});useIsomorphicLayoutEffect(function(){var _androidInputManagerR,_androidInputManagerR2,window;if(ref.current&&(window=getDefaultView(ref.current)))EDITOR_TO_WINDOW.set(editor,
window),EDITOR_TO_ELEMENT.set(editor,ref.current),NODE_TO_ELEMENT.set(editor,ref.current),ELEMENT_TO_NODE.set(ref.current,editor);else NODE_TO_ELEMENT["delete"](editor);var selection=editor.selection,domSelection=ReactEditor.findDocumentOrShadowRoot(editor).getSelection();if(domSelection&&ReactEditor.isFocused(editor)&&(null===(_androidInputManagerR=androidInputManagerRef.current)||void 0===_androidInputManagerR||!_androidInputManagerR.hasPendingAction())){var setDomSelection=function(forceChange){var hasDomSelection=
"None"!==domSelection.type;if(selection||hasDomSelection){var focusNode=domSelection.focusNode;if(IS_FIREFOX&&1<domSelection.rangeCount){var anchorNode=domSelection.getRangeAt(0);var lastRange=domSelection.getRangeAt(domSelection.rangeCount-1);anchorNode=anchorNode.startContainer===focusNode?lastRange.endContainer:anchorNode.startContainer}else anchorNode=domSelection.anchorNode;lastRange=EDITOR_TO_ELEMENT.get(editor);var hasDomSelectionInEditor=!1;lastRange.contains(anchorNode)&&lastRange.contains(focusNode)&&
(hasDomSelectionInEditor=!0);if(hasDomSelection&&hasDomSelectionInEditor&&selection&&!forceChange&&(forceChange=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!0,suppressThrow:!0}))&&slate.Range.equals(forceChange,selection)){var _anchorNode;if(!state.hasMarkPlaceholder||null!==(_anchorNode=anchorNode)&&void 0!==_anchorNode&&null!==(_anchorNode=_anchorNode.parentElement)&&void 0!==_anchorNode&&_anchorNode.hasAttribute("data-slate-mark-placeholder"))return}if(selection&&!ReactEditor.hasRange(editor,
selection))editor.selection=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!0});else return state.isUpdatingSelection=!0,(_anchorNode=selection&&ReactEditor.toDOMRange(editor,selection))?(ReactEditor.isComposing(editor)&&!IS_ANDROID?domSelection.collapseToEnd():slate.Range.isBackward(selection)?domSelection.setBaseAndExtent(_anchorNode.endContainer,_anchorNode.endOffset,_anchorNode.startContainer,_anchorNode.startOffset):domSelection.setBaseAndExtent(_anchorNode.startContainer,
_anchorNode.startOffset,_anchorNode.endContainer,_anchorNode.endOffset),scrollSelectionIntoView(editor,_anchorNode)):domSelection.removeAllRanges(),_anchorNode}};1>=domSelection.rangeCount&&setDomSelection();var ensureSelection="action"===(null===(_androidInputManagerR2=androidInputManagerRef.current)||void 0===_androidInputManagerR2?void 0:_androidInputManagerR2.isFlushing());if(IS_ANDROID&&ensureSelection){var timeoutId=null,animationFrameId=requestAnimationFrame(function(){if(ensureSelection){var ensureDomSelection=
function(forceChange){try{ReactEditor.toDOMNode(editor,editor).focus(),setDomSelection(forceChange)}catch(e){}};ensureDomSelection();timeoutId=setTimeout(function(){ensureDomSelection(!0);state.isUpdatingSelection=!1})}});return function(){cancelAnimationFrame(animationFrameId);timeoutId&&clearTimeout(timeoutId)}}setTimeout(function(){state.isUpdatingSelection=!1})}});var onDOMBeforeInput=React.useCallback(function(event){onUserInput();if(!readOnly&&ReactEditor.hasEditableTarget(editor,event.target)&&
!isDOMEventHandled(event,propsOnDOMBeforeInput)){if(androidInputManagerRef.current)return androidInputManagerRef.current.handleDOMBeforeInput(event);scheduleOnDOMSelectionChange.flush();onDOMSelectionChange.flush();var selection=editor.selection,type=event.inputType,data=event.dataTransfer||event.data||void 0,isCompositionChange="insertCompositionText"===type||"deleteCompositionText"===type;if(!isCompositionChange||!ReactEditor.isComposing(editor)){var _native=!1;if("insertText"===type&&selection&&
slate.Range.isCollapsed(selection)&&event.data&&1===event.data.length&&/[a-z ]/i.test(event.data)&&0!==selection.anchor.offset){var _node$parentElement,_window$getComputedSt;_native=!0;editor.marks&&(_native=!1);var anchor=selection.anchor,_ReactEditor$toDOMPoi=ReactEditor.toDOMPoint(editor,anchor),_ReactEditor$toDOMPoi2=_slicedToArray(_ReactEditor$toDOMPoi,2);_ReactEditor$toDOMPoi=_ReactEditor$toDOMPoi2[0];_ReactEditor$toDOMPoi2=_ReactEditor$toDOMPoi2[1];var anchorNode=null===(_node$parentElement=
_ReactEditor$toDOMPoi.parentElement)||void 0===_node$parentElement?void 0:_node$parentElement.closest("a");_node$parentElement=ReactEditor.getWindow(editor);if(_native&&anchorNode&&ReactEditor.hasDOMNode(editor,anchorNode)){var _lastText$textContent;anchorNode=null===_node$parentElement||void 0===_node$parentElement?void 0:_node$parentElement.document.createTreeWalker(anchorNode,NodeFilter.SHOW_TEXT).lastChild();anchorNode===_ReactEditor$toDOMPoi&&(null===(_lastText$textContent=anchorNode.textContent)||
void 0===_lastText$textContent?void 0:_lastText$textContent.length)===_ReactEditor$toDOMPoi2&&(_native=!1)}_native&&_ReactEditor$toDOMPoi.parentElement&&"pre"===(null===_node$parentElement||void 0===_node$parentElement||null===(_window$getComputedSt=_node$parentElement.getComputedStyle(_ReactEditor$toDOMPoi.parentElement))||void 0===_window$getComputedSt?void 0:_window$getComputedSt.whiteSpace)&&(_window$getComputedSt=slate.Editor.above(editor,{at:anchor.path,match:function(n){return slate.Element.isElement(n)&&
slate.Editor.isBlock(editor,n)}}))&&slate.Node.string(_window$getComputedSt[0]).includes("\t")&&(_native=!1)}if(!type.startsWith("delete")||type.startsWith("deleteBy"))if(_window$getComputedSt=event.getTargetRanges(),_window$getComputedSt=_slicedToArray(_window$getComputedSt,1)[0])_window$getComputedSt=ReactEditor.toSlateRange(editor,_window$getComputedSt,{exactMatch:!1,suppressThrow:!1}),selection&&slate.Range.equals(selection,_window$getComputedSt)||(_native=!1,anchor=!isCompositionChange&&editor.selection&&
slate.Editor.rangeRef(editor,editor.selection),slate.Transforms.select(editor,_window$getComputedSt),anchor&&EDITOR_TO_USER_SELECTION.set(editor,anchor));if(!isCompositionChange)if(_native||event.preventDefault(),selection&&slate.Range.isExpanded(selection)&&type.startsWith("delete")){var _EDITOR_TO_USER_SELEC=type.endsWith("Backward")?"backward":"forward";slate.Editor.deleteFragment(editor,{direction:_EDITOR_TO_USER_SELEC})}else{switch(type){case "deleteByComposition":case "deleteByCut":case "deleteByDrag":slate.Editor.deleteFragment(editor);
break;case "deleteContent":case "deleteContentForward":slate.Editor.deleteForward(editor);break;case "deleteContentBackward":slate.Editor.deleteBackward(editor);break;case "deleteEntireSoftLine":slate.Editor.deleteBackward(editor,{unit:"line"});slate.Editor.deleteForward(editor,{unit:"line"});break;case "deleteHardLineBackward":slate.Editor.deleteBackward(editor,{unit:"block"});break;case "deleteSoftLineBackward":slate.Editor.deleteBackward(editor,{unit:"line"});break;case "deleteHardLineForward":slate.Editor.deleteForward(editor,
{unit:"block"});break;case "deleteSoftLineForward":slate.Editor.deleteForward(editor,{unit:"line"});break;case "deleteWordBackward":slate.Editor.deleteBackward(editor,{unit:"word"});break;case "deleteWordForward":slate.Editor.deleteForward(editor,{unit:"word"});break;case "insertLineBreak":slate.Editor.insertSoftBreak(editor);break;case "insertParagraph":slate.Editor.insertBreak(editor);break;case "insertFromComposition":case "insertFromDrop":case "insertFromPaste":case "insertFromYank":case "insertReplacementText":case "insertText":"insertFromComposition"===
type&&ReactEditor.isComposing(editor)&&(setIsComposing(!1),IS_COMPOSING.set(editor,!1)),"DataTransfer"===(null===data||void 0===data?void 0:data.constructor.name)?ReactEditor.insertData(editor,data):"string"===typeof data&&(_native?deferredOperations.current.push(function(){return slate.Editor.insertText(editor,data)}):slate.Editor.insertText(editor,data))}event=null===(_EDITOR_TO_USER_SELEC=EDITOR_TO_USER_SELECTION.get(editor))||void 0===_EDITOR_TO_USER_SELEC?void 0:_EDITOR_TO_USER_SELEC.unref();
EDITOR_TO_USER_SELECTION["delete"](editor);!event||editor.selection&&slate.Range.equals(editor.selection,event)||slate.Transforms.select(editor,event)}}}},[editor,onDOMSelectionChange,onUserInput,propsOnDOMBeforeInput,readOnly,scheduleOnDOMSelectionChange]);_useReducer=React.useCallback(function(node){null==node?(onDOMSelectionChange.cancel(),scheduleOnDOMSelectionChange.cancel(),EDITOR_TO_ELEMENT["delete"](editor),NODE_TO_ELEMENT["delete"](editor),ref.current&&HAS_BEFORE_INPUT_SUPPORT&&ref.current.removeEventListener("beforeinput",
onDOMBeforeInput)):HAS_BEFORE_INPUT_SUPPORT&&node.addEventListener("beforeinput",onDOMBeforeInput);ref.current=node},[onDOMSelectionChange,scheduleOnDOMSelectionChange,editor,onDOMBeforeInput]);useIsomorphicLayoutEffect(function(){var window=ReactEditor.getWindow(editor);window.document.addEventListener("selectionchange",scheduleOnDOMSelectionChange);return function(){window.document.removeEventListener("selectionchange",scheduleOnDOMSelectionChange)}},[scheduleOnDOMSelectionChange]);var decorations=
_props$decorate([editor,[]]),showPlaceholder=placeholder&&1===editor.children.length&&1===Array.from(slate.Node.texts(editor)).length&&""===slate.Node.string(editor)&&!isComposing;isComposing=React.useCallback(function(placeholderEl){if(placeholderEl&&showPlaceholder){var _placeholderEl$getBou;setPlaceholderHeight(null===(_placeholderEl$getBou=placeholderEl.getBoundingClientRect())||void 0===_placeholderEl$getBou?void 0:_placeholderEl$getBou.height)}else setPlaceholderHeight(void 0)},[showPlaceholder]);
if(showPlaceholder){var _decorations$push,start=slate.Editor.start(editor,[]);decorations.push((_decorations$push={},_defineProperty(_decorations$push,PLACEHOLDER_SYMBOL,!0),_defineProperty(_decorations$push,"placeholder",placeholder),_defineProperty(_decorations$push,"onPlaceholderResize",isComposing),_defineProperty(_decorations$push,"anchor",start),_defineProperty(_decorations$push,"focus",start),_decorations$push))}var marks=editor.marks;state.hasMarkPlaceholder=!1;editor.selection&&slate.Range.isCollapsed(editor.selection)&&
marks&&(_decorations$push=editor.selection.anchor,placeholder=slate.Node.leaf(editor,_decorations$push.path),placeholder.text,isComposing=_objectWithoutProperties(placeholder,_excluded2),slate.Text.equals(placeholder,marks,{loose:!0})||(state.hasMarkPlaceholder=!0,placeholder=Object.fromEntries(Object.keys(isComposing).map(function(mark){return[mark,null]})),decorations.push(_objectSpread$1(_objectSpread$1(_objectSpread$1(_defineProperty({},MARK_PLACEHOLDER_SYMBOL,!0),placeholder),marks),{},{anchor:_decorations$push,
focus:_decorations$push}))));React.useEffect(function(){setTimeout(function(){var selection=editor.selection;if(selection&&(selection=slate.Node.leaf(editor,selection.anchor.path),marks&&!slate.Text.equals(selection,marks,{loose:!0}))){EDITOR_TO_PENDING_INSERTION_MARKS.set(editor,marks);return}EDITOR_TO_PENDING_INSERTION_MARKS["delete"](editor)})});return React.createElement(ReadOnlyContext.Provider,{value:readOnly},React.createElement(DecorateContext.Provider,{value:_props$decorate},React.createElement(RestoreDOM,
{node:ref,receivedUserInput:_useState4},React.createElement(_props$as,_objectSpread$1(_objectSpread$1({role:readOnly?void 0:"textbox","aria-multiline":readOnly?void 0:!0},attributes),{},{spellCheck:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.spellCheck:!1,autoCorrect:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.autoCorrect:"false",autoCapitalize:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!readOnly,
zindex:-1,suppressContentEditableWarning:!0,ref:_useReducer,style:_objectSpread$1(_objectSpread$1({},_props$disableDefault?{}:_objectSpread$1({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},props$jscomp$0?{minHeight:props$jscomp$0}:{})),_props$renderPlacehol),onBeforeInput:React.useCallback(function(event){HAS_BEFORE_INPUT_SUPPORT||readOnly||isEventHandled(event,attributes.onBeforeInput)||!ReactEditor.hasSelectableTarget(editor,event.target)||(event.preventDefault(),ReactEditor.isComposing(editor)||
slate.Editor.insertText(editor,event.data))},[attributes.onBeforeInput,editor,readOnly]),onInput:React.useCallback(function(event){if(!isEventHandled(event,attributes.onInput))if(androidInputManagerRef.current)androidInputManagerRef.current.handleInput();else{event=_createForOfIteratorHelper$1(deferredOperations.current);var _step;try{for(event.s();!(_step=event.n()).done;){var op=_step.value;op()}}catch(err){event.e(err)}finally{event.f()}deferredOperations.current=[]}},[attributes.onInput]),onBlur:React.useCallback(function(event){if(!readOnly&&
!state.isUpdatingSelection&&ReactEditor.hasSelectableTarget(editor,event.target)&&!isEventHandled(event,attributes.onBlur)){var root=ReactEditor.findDocumentOrShadowRoot(editor);if(state.latestElement!==root.activeElement){event=event.relatedTarget;var el=ReactEditor.toDOMNode(editor,editor);if(!(event===el||isDOMElement(event)&&event.hasAttribute("data-slate-spacer"))){if(null!=event&&isDOMNode(event)&&ReactEditor.hasDOMNode(editor,event)&&(event=ReactEditor.toSlateNode(editor,event),slate.Element.isElement(event)&&
!editor.isVoid(event)))return;IS_WEBKIT&&(root=root.getSelection(),null===root||void 0===root||root.removeAllRanges());IS_FOCUSED["delete"](editor)}}}},[readOnly,state.isUpdatingSelection,state.latestElement,editor,attributes.onBlur]),onClick:React.useCallback(function(event){if(ReactEditor.hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onClick)&&isDOMNode(event.target)){var node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(slate.Editor.hasPath(editor,
path)&&slate.Node.get(editor,path)===node)if(3===event.detail&&1<=path.length){event=path;if(!slate.Element.isElement(node)||!slate.Editor.isBlock(editor,node)){var _block$;node=slate.Editor.above(editor,{match:function(n){return slate.Element.isElement(n)&&slate.Editor.isBlock(editor,n)},at:path});event=null!==(_block$=null===node||void 0===node?void 0:node[1])&&void 0!==_block$?_block$:path.slice(0,1)}path=slate.Editor.range(editor,event);slate.Transforms.select(editor,path)}else readOnly||(_block$=
slate.Editor.start(editor,path),node=slate.Editor.end(editor,path),path=slate.Editor["void"](editor,{at:_block$}),node=slate.Editor["void"](editor,{at:node}),path&&node&&slate.Path.equals(path[1],node[1])&&(path=slate.Editor.range(editor,_block$),slate.Transforms.select(editor,path)))}},[editor,attributes.onClick,readOnly]),onCompositionEnd:React.useCallback(function(event){if(ReactEditor.hasSelectableTarget(editor,event.target)){var _androidInputManagerR3;ReactEditor.isComposing(editor)&&(setIsComposing(!1),
IS_COMPOSING.set(editor,!1));null===(_androidInputManagerR3=androidInputManagerRef.current)||void 0===_androidInputManagerR3||_androidInputManagerR3.handleCompositionEnd(event);isEventHandled(event,attributes.onCompositionEnd)||IS_ANDROID||IS_WEBKIT||IS_FIREFOX_LEGACY||IS_IOS||IS_WECHATBROWSER||IS_UC_MOBILE||!event.data||(_androidInputManagerR3=EDITOR_TO_PENDING_INSERTION_MARKS.get(editor),EDITOR_TO_PENDING_INSERTION_MARKS["delete"](editor),void 0!==_androidInputManagerR3&&(EDITOR_TO_USER_MARKS.set(editor,
editor.marks),editor.marks=_androidInputManagerR3),slate.Editor.insertText(editor,event.data),event=EDITOR_TO_USER_MARKS.get(editor),EDITOR_TO_USER_MARKS["delete"](editor),void 0!==event&&(editor.marks=event))}},[attributes.onCompositionEnd,editor]),onCompositionUpdate:React.useCallback(function(event){!ReactEditor.hasSelectableTarget(editor,event.target)||isEventHandled(event,attributes.onCompositionUpdate)||ReactEditor.isComposing(editor)||(setIsComposing(!0),IS_COMPOSING.set(editor,!0))},[attributes.onCompositionUpdate,
editor]),onCompositionStart:React.useCallback(function(event){if(ReactEditor.hasSelectableTarget(editor,event.target)){var _androidInputManagerR4;null===(_androidInputManagerR4=androidInputManagerRef.current)||void 0===_androidInputManagerR4||_androidInputManagerR4.handleCompositionStart(event);if(!isEventHandled(event,attributes.onCompositionStart)&&!IS_ANDROID&&(setIsComposing(!0),event=editor.selection))if(slate.Range.isExpanded(event))slate.Editor.deleteFragment(editor);else if(_androidInputManagerR4=
slate.Editor.above(editor,{match:function(n){return slate.Element.isElement(n)&&slate.Editor.isInline(editor,n)},mode:"highest"}))_androidInputManagerR4=_slicedToArray(_androidInputManagerR4,2)[1],slate.Editor.isEnd(editor,event.anchor,_androidInputManagerR4)&&(event=slate.Editor.after(editor,_androidInputManagerR4),slate.Transforms.setSelection(editor,{anchor:event,focus:event}))}},[attributes.onCompositionStart,editor]),onCopy:React.useCallback(function(event){!ReactEditor.hasSelectableTarget(editor,
event.target)||isEventHandled(event,attributes.onCopy)||isDOMEventTargetInput(event)||(event.preventDefault(),ReactEditor.setFragmentData(editor,event.clipboardData,"copy"))},[attributes.onCopy,editor]),onCut:React.useCallback(function(event){if(!readOnly&&ReactEditor.hasSelectableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCut)&&!isDOMEventTargetInput(event)&&(event.preventDefault(),ReactEditor.setFragmentData(editor,event.clipboardData,"cut"),event=editor.selection))if(slate.Range.isExpanded(event))slate.Editor.deleteFragment(editor);
else if(event=slate.Node.parent(editor,event.anchor.path),slate.Editor.isVoid(editor,event))slate.Transforms["delete"](editor)},[readOnly,editor,attributes.onCut]),onDragOver:React.useCallback(function(event){if(ReactEditor.hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDragOver)){var node=ReactEditor.toSlateNode(editor,event.target);slate.Element.isElement(node)&&slate.Editor.isVoid(editor,node)&&event.preventDefault()}},[attributes.onDragOver,editor]),onDragStart:React.useCallback(function(event){if(!readOnly&&
ReactEditor.hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDragStart)){var node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(slate.Element.isElement(node)&&slate.Editor.isVoid(editor,node)||slate.Editor["void"](editor,{at:path,voids:!0}))node=slate.Editor.range(editor,path),slate.Transforms.select(editor,node);state.isDraggingInternally=!0;ReactEditor.setFragmentData(editor,event.dataTransfer,"drag")}},[readOnly,editor,attributes.onDragStart,
state]),onDrop:React.useCallback(function(event){if(!readOnly&&ReactEditor.hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDrop)){event.preventDefault();var draggedRange=editor.selection,range=ReactEditor.findEventRange(editor,event);event=event.dataTransfer;slate.Transforms.select(editor,range);if(state.isDraggingInternally&&draggedRange&&!slate.Range.equals(draggedRange,range)&&!slate.Editor["void"](editor,{at:range,voids:!0}))slate.Transforms["delete"](editor,{at:draggedRange});
ReactEditor.insertData(editor,event);ReactEditor.isFocused(editor)||ReactEditor.focus(editor)}state.isDraggingInternally=!1},[readOnly,editor,attributes.onDrop,state]),onDragEnd:React.useCallback(function(event){if(!readOnly&&state.isDraggingInternally&&attributes.onDragEnd&&ReactEditor.hasTarget(editor,event.target))attributes.onDragEnd(event);state.isDraggingInternally=!1},[readOnly,state,attributes,editor]),onFocus:React.useCallback(function(event){if(!readOnly&&!state.isUpdatingSelection&&ReactEditor.hasEditableTarget(editor,
event.target)&&!isEventHandled(event,attributes.onFocus)){var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);state.latestElement=root.activeElement;IS_FIREFOX&&event.target!==el?el.focus():IS_FOCUSED.set(editor,!0)}},[readOnly,state,editor,attributes.onFocus]),onKeyDown:React.useCallback(function(event){if(!readOnly&&ReactEditor.hasEditableTarget(editor,event.target)){var _androidInputManagerR5;null===(_androidInputManagerR5=androidInputManagerRef.current)||
void 0===_androidInputManagerR5||_androidInputManagerR5.handleKeyDown(event);_androidInputManagerR5=event.nativeEvent;ReactEditor.isComposing(editor)&&!1===_androidInputManagerR5.isComposing&&(IS_COMPOSING.set(editor,!1),setIsComposing(!1));if(!isEventHandled(event,attributes.onKeyDown)&&!ReactEditor.isComposing(editor)){var selection=editor.selection,isRTL="rtl"===getDirection(slate.Node.string(editor.children[null!==selection?selection.focus.path[0]:0]));Hotkeys.isRedo(_androidInputManagerR5)?(event.preventDefault(),
"function"===typeof editor.redo&&editor.redo()):Hotkeys.isUndo(_androidInputManagerR5)?(event.preventDefault(),"function"===typeof editor.undo&&editor.undo()):Hotkeys.isMoveLineBackward(_androidInputManagerR5)?(event.preventDefault(),slate.Transforms.move(editor,{unit:"line",reverse:!0})):Hotkeys.isMoveLineForward(_androidInputManagerR5)?(event.preventDefault(),slate.Transforms.move(editor,{unit:"line"})):Hotkeys.isExtendLineBackward(_androidInputManagerR5)?(event.preventDefault(),slate.Transforms.move(editor,
{unit:"line",edge:"focus",reverse:!0})):Hotkeys.isExtendLineForward(_androidInputManagerR5)?(event.preventDefault(),slate.Transforms.move(editor,{unit:"line",edge:"focus"})):Hotkeys.isMoveBackward(_androidInputManagerR5)?(event.preventDefault(),selection&&slate.Range.isCollapsed(selection)?slate.Transforms.move(editor,{reverse:!isRTL}):slate.Transforms.collapse(editor,{edge:"start"})):Hotkeys.isMoveForward(_androidInputManagerR5)?(event.preventDefault(),selection&&slate.Range.isCollapsed(selection)?
slate.Transforms.move(editor,{reverse:isRTL}):slate.Transforms.collapse(editor,{edge:"end"})):Hotkeys.isMoveWordBackward(_androidInputManagerR5)?(event.preventDefault(),selection&&slate.Range.isExpanded(selection)&&slate.Transforms.collapse(editor,{edge:"focus"}),slate.Transforms.move(editor,{unit:"word",reverse:!isRTL})):Hotkeys.isMoveWordForward(_androidInputManagerR5)?(event.preventDefault(),selection&&slate.Range.isExpanded(selection)&&slate.Transforms.collapse(editor,{edge:"focus"}),slate.Transforms.move(editor,
{unit:"word",reverse:isRTL})):HAS_BEFORE_INPUT_SUPPORT?(IS_CHROME||IS_WEBKIT)&&selection&&(Hotkeys.isDeleteBackward(_androidInputManagerR5)||Hotkeys.isDeleteForward(_androidInputManagerR5))&&slate.Range.isCollapsed(selection)&&(_androidInputManagerR5=slate.Node.parent(editor,selection.anchor.path),slate.Element.isElement(_androidInputManagerR5)&&slate.Editor.isVoid(editor,_androidInputManagerR5)&&(slate.Editor.isInline(editor,_androidInputManagerR5)||slate.Editor.isBlock(editor,_androidInputManagerR5))&&
(event.preventDefault(),slate.Editor.deleteBackward(editor,{unit:"block"}))):Hotkeys.isBold(_androidInputManagerR5)||Hotkeys.isItalic(_androidInputManagerR5)||Hotkeys.isTransposeCharacter(_androidInputManagerR5)?event.preventDefault():Hotkeys.isSoftBreak(_androidInputManagerR5)?(event.preventDefault(),slate.Editor.insertSoftBreak(editor)):Hotkeys.isSplitBlock(_androidInputManagerR5)?(event.preventDefault(),slate.Editor.insertBreak(editor)):Hotkeys.isDeleteBackward(_androidInputManagerR5)?(event.preventDefault(),
selection&&slate.Range.isExpanded(selection)?slate.Editor.deleteFragment(editor,{direction:"backward"}):slate.Editor.deleteBackward(editor)):Hotkeys.isDeleteForward(_androidInputManagerR5)?(event.preventDefault(),selection&&slate.Range.isExpanded(selection)?slate.Editor.deleteFragment(editor,{direction:"forward"}):slate.Editor.deleteForward(editor)):Hotkeys.isDeleteLineBackward(_androidInputManagerR5)?(event.preventDefault(),selection&&slate.Range.isExpanded(selection)?slate.Editor.deleteFragment(editor,
{direction:"backward"}):slate.Editor.deleteBackward(editor,{unit:"line"})):Hotkeys.isDeleteLineForward(_androidInputManagerR5)?(event.preventDefault(),selection&&slate.Range.isExpanded(selection)?slate.Editor.deleteFragment(editor,{direction:"forward"}):slate.Editor.deleteForward(editor,{unit:"line"})):Hotkeys.isDeleteWordBackward(_androidInputManagerR5)?(event.preventDefault(),selection&&slate.Range.isExpanded(selection)?slate.Editor.deleteFragment(editor,{direction:"backward"}):slate.Editor.deleteBackward(editor,
{unit:"word"})):Hotkeys.isDeleteWordForward(_androidInputManagerR5)&&(event.preventDefault(),selection&&slate.Range.isExpanded(selection)?slate.Editor.deleteFragment(editor,{direction:"forward"}):slate.Editor.deleteForward(editor,{unit:"word"}))}}},[readOnly,editor,attributes.onKeyDown]),onPaste:React.useCallback(function(event){if(!readOnly&&ReactEditor.hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onPaste)){var JSCompiler_temp;(JSCompiler_temp=!HAS_BEFORE_INPUT_SUPPORT)||
(JSCompiler_temp=event.nativeEvent,JSCompiler_temp=JSCompiler_temp.clipboardData&&""!==JSCompiler_temp.clipboardData.getData("text/plain")&&1===JSCompiler_temp.clipboardData.types.length);if(JSCompiler_temp||IS_WEBKIT)event.preventDefault(),ReactEditor.insertData(editor,event.clipboardData)}},[readOnly,editor,attributes.onPaste])}),React.createElement(Children,{decorations,node:editor,renderElement:_props$readOnly,renderPlaceholder:defaultRenderPlaceholder,renderLeaf,selection:editor.selection})))))};
exports.ReactEditor=ReactEditor;exports.Slate=function(props){var editor=props.editor,children=props.children,onChange=props.onChange,onSelectionChange=props.onSelectionChange,onValueChange=props.onValueChange,initialValue=props.initialValue,rest=_objectWithoutProperties(props,_excluded);props=React.useState(function(){if(!slate.Node.isNodeList(initialValue))throw Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(slate.Scrubber.stringify(initialValue)));if(!slate.Editor.isEditor(editor))throw Error("[Slate] editor is invalid! You passed: ".concat(slate.Scrubber.stringify(editor)));
editor.children=initialValue;Object.assign(editor,rest);return{v:0,editor}});var _React$useState2=_slicedToArray(props,2);props=_React$useState2[0];var setContext=_React$useState2[1],_useSelectorContext=useSelectorContext(editor);_React$useState2=_useSelectorContext.selectorContext;var handleSelectorChange=_useSelectorContext.onChange,onContextChange=React.useCallback(function(options){var _options$operation;onChange&&onChange(editor.children);switch(null===options||void 0===options||null===(_options$operation=
options.operation)||void 0===_options$operation?void 0:_options$operation.type){case "set_selection":null===onSelectionChange||void 0===onSelectionChange||onSelectionChange(editor.selection);break;default:null===onValueChange||void 0===onValueChange||onValueChange(editor.children)}setContext(function(prevContext){return{v:prevContext.v+1,editor}});handleSelectorChange(editor)},[editor,handleSelectorChange,onChange,onSelectionChange,onValueChange]);React.useEffect(function(){EDITOR_TO_ON_CHANGE.set(editor,
onContextChange);return function(){EDITOR_TO_ON_CHANGE.set(editor,function(){})}},[editor,onContextChange]);_useSelectorContext=React.useState(ReactEditor.isFocused(editor));_useSelectorContext=_slicedToArray(_useSelectorContext,2);var isFocused=_useSelectorContext[0],setIsFocused=_useSelectorContext[1];React.useEffect(function(){setIsFocused(ReactEditor.isFocused(editor))},[editor]);useIsomorphicLayoutEffect(function(){var fn=function(){return setIsFocused(ReactEditor.isFocused(editor))};if(17<=
REACT_MAJOR_VERSION)return document.addEventListener("focusin",fn),document.addEventListener("focusout",fn),function(){document.removeEventListener("focusin",fn);document.removeEventListener("focusout",fn)};document.addEventListener("focus",fn,!0);document.addEventListener("blur",fn,!0);return function(){document.removeEventListener("focus",fn,!0);document.removeEventListener("blur",fn,!0)}},[]);return React.createElement(SlateSelectorContext.Provider,{value:_React$useState2},React.createElement(SlateContext.Provider,
{value:props},React.createElement(EditorContext.Provider,{value:props.editor},React.createElement(FocusedContext.Provider,{value:isFocused},children))))};exports.useEditor=function(){var editor=React.useContext(EditorContext);if(!editor)throw Error("The `useEditor` hook must be used inside the \x3cSlate\x3e component's context.");return editor};exports.useFocused=function(){return React.useContext(FocusedContext)};exports.useReadOnly=useReadOnly;exports.useSelected=function(){return React.useContext(SelectedContext)};
exports.useSlate=useSlate;exports.useSlateSelection=function(){return useSlateSelector(function(editor){return editor.selection},isSelectionEqual)};exports.useSlateSelector=useSlateSelector;exports.useSlateStatic=useSlateStatic;exports.useSlateWithV=function(){var context=React.useContext(SlateContext);if(!context)throw Error("The `useSlate` hook must be used inside the \x3cSlate\x3e component's context.");return context};exports.withReact=function(editor){var clipboardFormatKey=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:"x-slate-fragment",apply=editor.apply,onChange=editor.onChange,deleteBackward=editor.deleteBackward,addMark=editor.addMark,removeMark=editor.removeMark;EDITOR_TO_KEY_TO_ELEMENT.set(editor,new WeakMap);editor.addMark=function(key,value){var _EDITOR_TO_SCHEDULE_F,_EDITOR_TO_PENDING_DI;null===(_EDITOR_TO_SCHEDULE_F=EDITOR_TO_SCHEDULE_FLUSH.get(editor))||void 0===_EDITOR_TO_SCHEDULE_F||_EDITOR_TO_SCHEDULE_F();!EDITOR_TO_PENDING_INSERTION_MARKS.get(editor)&&null!==(_EDITOR_TO_PENDING_DI=
EDITOR_TO_PENDING_DIFFS.get(editor))&&void 0!==_EDITOR_TO_PENDING_DI&&_EDITOR_TO_PENDING_DI.length&&EDITOR_TO_PENDING_INSERTION_MARKS.set(editor,null);EDITOR_TO_USER_MARKS["delete"](editor);addMark(key,value)};editor.removeMark=function(key){var _EDITOR_TO_PENDING_DI2;!EDITOR_TO_PENDING_INSERTION_MARKS.get(editor)&&null!==(_EDITOR_TO_PENDING_DI2=EDITOR_TO_PENDING_DIFFS.get(editor))&&void 0!==_EDITOR_TO_PENDING_DI2&&_EDITOR_TO_PENDING_DI2.length&&EDITOR_TO_PENDING_INSERTION_MARKS.set(editor,null);
EDITOR_TO_USER_MARKS["delete"](editor);removeMark(key)};editor.deleteBackward=function(unit){if("line"!==unit)return deleteBackward(unit);if(editor.selection&&slate.Range.isCollapsed(editor.selection)&&(unit=slate.Editor.above(editor,{match:function(n){return slate.Element.isElement(n)&&slate.Editor.isBlock(editor,n)},at:editor.selection}))&&(unit=_slicedToArray(unit,2)[1],unit=slate.Editor.range(editor,unit,editor.selection.anchor),unit=findCurrentLineRange(editor,unit),!slate.Range.isCollapsed(unit)))slate.Transforms["delete"](editor,
{at:unit})};editor.apply=function(op){var matches=[],pathRefMatches=[],pendingDiffs=EDITOR_TO_PENDING_DIFFS.get(editor);null!==pendingDiffs&&void 0!==pendingDiffs&&pendingDiffs.length&&(pendingDiffs=pendingDiffs.map(function(textDiff){return transformTextDiff(textDiff,op)}).filter(Boolean),EDITOR_TO_PENDING_DIFFS.set(editor,pendingDiffs));(pendingDiffs=EDITOR_TO_PENDING_SELECTION.get(editor))&&EDITOR_TO_PENDING_SELECTION.set(editor,transformPendingRange(editor,pendingDiffs,op));pendingDiffs=EDITOR_TO_PENDING_ACTION.get(editor);
if(null!==pendingDiffs&&void 0!==pendingDiffs&&pendingDiffs.at){var at=slate.Point.isPoint(null===pendingDiffs||void 0===pendingDiffs?void 0:pendingDiffs.at)?transformPendingPoint(editor,pendingDiffs.at,op):transformPendingRange(editor,pendingDiffs.at,op);EDITOR_TO_PENDING_ACTION.set(editor,at?_objectSpread(_objectSpread({},pendingDiffs),{},{at}):null)}switch(op.type){case "insert_text":case "remove_text":case "set_node":case "split_node":matches.push.apply(matches,_toConsumableArray(getMatches(editor,
op.path)));break;case "set_selection":var _EDITOR_TO_USER_SELEC;null===(_EDITOR_TO_USER_SELEC=EDITOR_TO_USER_SELECTION.get(editor))||void 0===_EDITOR_TO_USER_SELEC||_EDITOR_TO_USER_SELEC.unref();EDITOR_TO_USER_SELECTION["delete"](editor);break;case "insert_node":case "remove_node":matches.push.apply(matches,_toConsumableArray(getMatches(editor,slate.Path.parent(op.path))));break;case "merge_node":_EDITOR_TO_USER_SELEC=slate.Path.previous(op.path);matches.push.apply(matches,_toConsumableArray(getMatches(editor,
_EDITOR_TO_USER_SELEC)));break;case "move_node":_EDITOR_TO_USER_SELEC=slate.Path.common(slate.Path.parent(op.path),slate.Path.parent(op.newPath)),matches.push.apply(matches,_toConsumableArray(getMatches(editor,_EDITOR_TO_USER_SELEC))),slate.Path.isBefore(op.path,op.newPath)?(matches.push.apply(matches,_toConsumableArray(getMatches(editor,slate.Path.parent(op.path)))),_EDITOR_TO_USER_SELEC=op.newPath):(matches.push.apply(matches,_toConsumableArray(getMatches(editor,slate.Path.parent(op.newPath)))),
_EDITOR_TO_USER_SELEC=op.path),pendingDiffs=slate.Node.get(editor,slate.Path.parent(_EDITOR_TO_USER_SELEC)),pendingDiffs=ReactEditor.findKey(editor,pendingDiffs),_EDITOR_TO_USER_SELEC=slate.Editor.pathRef(editor,slate.Path.parent(_EDITOR_TO_USER_SELEC)),pathRefMatches.push([_EDITOR_TO_USER_SELEC,pendingDiffs])}apply(op);for(_EDITOR_TO_USER_SELEC=0;_EDITOR_TO_USER_SELEC<matches.length;_EDITOR_TO_USER_SELEC++)at=_slicedToArray(matches[_EDITOR_TO_USER_SELEC],2),pendingDiffs=at[1],at=slate.Editor.node(editor,
at[0]),at=_slicedToArray(at,1)[0],NODE_TO_KEY.set(at,pendingDiffs);for(matches=0;matches<pathRefMatches.length;matches++)_EDITOR_TO_USER_SELEC=_slicedToArray(pathRefMatches[matches],2),pendingDiffs=_EDITOR_TO_USER_SELEC[0],_EDITOR_TO_USER_SELEC=_EDITOR_TO_USER_SELEC[1],pendingDiffs.current&&(pendingDiffs=slate.Editor.node(editor,pendingDiffs.current),pendingDiffs=_slicedToArray(pendingDiffs,1)[0],NODE_TO_KEY.set(pendingDiffs,_EDITOR_TO_USER_SELEC))};editor.setFragmentData=function(data){var selection=
editor.selection;if(selection){var _Range$edges=slate.Range.edges(selection);_Range$edges=_slicedToArray(_Range$edges,2);var end=_Range$edges[1];_Range$edges=slate.Editor["void"](editor,{at:_Range$edges[0].path});end=slate.Editor["void"](editor,{at:end.path});if(!slate.Range.isCollapsed(selection)||_Range$edges){var domRange=ReactEditor.toDOMRange(editor,selection);selection=domRange.cloneContents();var attach=selection.childNodes[0];selection.childNodes.forEach(function(node){node.textContent&&""!==
node.textContent.trim()&&(attach=node)});end&&(selection=_slicedToArray(end,1)[0],end=domRange.cloneRange(),selection=ReactEditor.toDOMNode(editor,selection),end.setEndAfter(selection),selection=end.cloneContents());_Range$edges&&(attach=selection.querySelector("[data-slate-spacer]"));Array.from(selection.querySelectorAll("[data-slate-zero-width]")).forEach(function(zw){var isNewline="n"===zw.getAttribute("data-slate-zero-width");zw.textContent=isNewline?"\n":""});isDOMText(attach)&&(_Range$edges=
attach.ownerDocument.createElement("span"),_Range$edges.style.whiteSpace="pre",_Range$edges.appendChild(attach),selection.appendChild(_Range$edges),attach=_Range$edges);_Range$edges=editor.getFragment();_Range$edges=JSON.stringify(_Range$edges);_Range$edges=window.btoa(encodeURIComponent(_Range$edges));attach.setAttribute("data-slate-fragment",_Range$edges);data.setData("application/".concat(clipboardFormatKey),_Range$edges);_Range$edges=selection.ownerDocument.createElement("div");_Range$edges.appendChild(selection);
_Range$edges.setAttribute("hidden","true");selection.ownerDocument.body.appendChild(_Range$edges);data.setData("text/html",_Range$edges.innerHTML);data.setData("text/plain",getPlainText(_Range$edges));selection.ownerDocument.body.removeChild(_Range$edges);return data}}};editor.insertData=function(data){editor.insertFragmentData(data)||editor.insertTextData(data)};editor.insertFragmentData=function(data){var JSCompiler_temp;(JSCompiler_temp=data.getData("application/".concat(clipboardFormatKey)))||
(data=data.getData("text/html").match(catchSlateFragment)||[],JSCompiler_temp=_slicedToArray(data,2)[1]);return(data=JSCompiler_temp)?(data=decodeURIComponent(window.atob(data)),data=JSON.parse(data),editor.insertFragment(data),!0):!1};editor.insertTextData=function(data){if(data=data.getData("text/plain")){var lines=data.split(/\r\n|\r|\n/);data=!1;lines=_createForOfIteratorHelper(lines);var _step;try{for(lines.s();!(_step=lines.n()).done;){var line=_step.value;data&&slate.Transforms.splitNodes(editor,
{always:!0});editor.insertText(line);data=!0}}catch(err){lines.e(err)}finally{lines.f()}return!0}return!1};editor.onChange=function(options){(18>REACT_MAJOR_VERSION?ReactDOM.unstable_batchedUpdates:function(callback){return callback()})(function(){var onContextChange=EDITOR_TO_ON_CHANGE.get(editor);onContextChange&&onContextChange(options);onChange(options)})};return editor}}
//# sourceMappingURL=module$node_modules$slate_react$dist$index.js.map
